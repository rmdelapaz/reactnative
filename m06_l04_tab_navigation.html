<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Master tab navigation in Expo Router - bottom tabs, icons, badges, and combining with stack navigation">
    <meta name="author" content="React Native & Expo Course">
    <title>Tab Navigation | Module 6: Navigation with Expo Router | React Native & Expo Course</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'neutral' });
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">üì± RN Course</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">
                ‚ò∞
            </button>
            <div class="nav-links" id="nav-links">
                <a href="index.html">Home</a>
                <a href="index.html#modules">Modules</a>
                <a href="index.html#appendices">Appendices</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="container">
            <a href="index.html">Home</a> &gt;
            <a href="index.html#modules">Modules</a> &gt;
            <a href="m06_l01_navigation_concepts.html">Module 6</a> &gt;
            <span>Lesson 6.4</span>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content">
        <div class="container">
            <!-- Lesson Header -->
            <header>
                <p class="module-tag">Module 6: Navigation with Expo Router</p>
                <h1>Tab Navigation</h1>
                <p class="lesson-subtitle">Building parallel navigation with bottom tabs, icons, and badges</p>
            </header>

            <!-- Learning Objectives -->
            <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                <h2 style="color: white; border: none; margin-top: 0;">üéØ Learning Objectives</h2>
                <ul style="color: white;">
                    <li>Set up bottom tab navigation with Expo Router</li>
                    <li>Configure tab icons using icon libraries</li>
                    <li>Style the tab bar with custom colors and appearance</li>
                    <li>Add badges for notifications and unread counts</li>
                    <li>Handle tab press events for custom behavior</li>
                    <li>Combine tabs with stack navigation for real-world apps</li>
                    <li>Implement tab-specific headers and hiding the tab bar</li>
                </ul>
            </div>

            <!-- Table of Contents -->
            <div class="toc-container">
                <details class="toc-details" open>
                    <summary>üìë Table of Contents</summary>
                    <ul class="toc-list">
                        <li><a href="#tab-basics">Tab Navigation Basics</a></li>
                        <li><a href="#tab-icons">Tab Icons</a></li>
                        <li><a href="#tab-styling">Tab Bar Styling</a></li>
                        <li><a href="#badges">Badges and Indicators</a></li>
                        <li><a href="#tab-events">Tab Press Events</a></li>
                        <li><a href="#tabs-with-stacks">Combining Tabs with Stacks</a></li>
                        <li><a href="#hiding-tab-bar">Hiding the Tab Bar</a></li>
                        <li><a href="#exercises">Hands-On Exercises</a></li>
                        <li><a href="#summary">Summary</a></li>
                    </ul>
                </details>
            </div>

            <!-- Tab Navigation Basics -->
            <section id="tab-basics">
                <h2>Tab Navigation Basics</h2>

                <p>Tab navigation provides parallel top-level destinations in your app. Users can switch between tabs freely, and each tab maintains its own navigation state. In Expo Router, you create tabs using a route group with a <code>_layout.tsx</code> file that uses the <code>Tabs</code> component.</p>

                <pre><code class="language-text">app/
‚îú‚îÄ‚îÄ _layout.tsx           # Root layout (Stack wrapping tabs)
‚îî‚îÄ‚îÄ (tabs)/               # Tab group
    ‚îú‚îÄ‚îÄ _layout.tsx       # Tab navigator configuration
    ‚îú‚îÄ‚îÄ index.tsx         # First tab (Home)
    ‚îú‚îÄ‚îÄ search.tsx        # Second tab (Search)
    ‚îú‚îÄ‚îÄ notifications.tsx # Third tab (Notifications)
    ‚îî‚îÄ‚îÄ profile.tsx       # Fourth tab (Profile)</code></pre>

                <h3>Basic Tab Setup</h3>

                <pre><code class="language-tsx">// app/(tabs)/_layout.tsx
import { Tabs } from 'expo-router';

export default function TabLayout() {
  return (
    &lt;Tabs&gt;
      &lt;Tabs.Screen
        name="index"
        options={{
          title: 'Home',
        }}
      /&gt;
      &lt;Tabs.Screen
        name="search"
        options={{
          title: 'Search',
        }}
      /&gt;
      &lt;Tabs.Screen
        name="notifications"
        options={{
          title: 'Notifications',
        }}
      /&gt;
      &lt;Tabs.Screen
        name="profile"
        options={{
          title: 'Profile',
        }}
      /&gt;
    &lt;/Tabs&gt;
  );
}</code></pre>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4 style="color: white;">üìñ Tabs Component</h4>
                    <p style="color: white;">The <code>Tabs</code> component from Expo Router wraps React Navigation's Bottom Tab Navigator. Each <code>Tabs.Screen</code> corresponds to a file in your <code>(tabs)</code> directory. The tab order matches the order of your <code>Tabs.Screen</code> declarations.</p>
                </div>

                <!-- SVG: Tab Bar Anatomy -->
                <div class="svg-container" style="text-align: center; margin: 2rem 0;">
                    <svg viewBox="0 0 600 180" style="max-width: 100%; height: auto; font-family: system-ui, sans-serif;">
                        <!-- Background -->
                        <rect width="600" height="180" fill="#f8f9fa"/>
                        
                        <!-- Title -->
                        <text x="300" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">Tab Bar Anatomy</text>
                        
                        <!-- Tab bar -->
                        <rect x="50" y="45" width="500" height="70" fill="#fff" stroke="#e0e0e0" stroke-width="2" rx="4"/>
                        
                        <!-- Tab 1 - Active -->
                        <rect x="55" y="50" width="120" height="60" fill="#e3f2fd" rx="4"/>
                        <text x="115" y="75" text-anchor="middle" font-size="20" fill="#2196F3">üè†</text>
                        <text x="115" y="98" text-anchor="middle" font-size="11" fill="#2196F3" font-weight="bold">Home</text>
                        
                        <!-- Tab 2 -->
                        <rect x="180" y="50" width="120" height="60" fill="transparent"/>
                        <text x="240" y="75" text-anchor="middle" font-size="20" fill="#9e9e9e">üîç</text>
                        <text x="240" y="98" text-anchor="middle" font-size="11" fill="#9e9e9e">Search</text>
                        
                        <!-- Tab 3 with badge -->
                        <rect x="305" y="50" width="120" height="60" fill="transparent"/>
                        <text x="365" y="75" text-anchor="middle" font-size="20" fill="#9e9e9e">üîî</text>
                        <circle cx="380" cy="60" r="10" fill="#f44336"/>
                        <text x="380" y="64" text-anchor="middle" font-size="9" fill="white" font-weight="bold">5</text>
                        <text x="365" y="98" text-anchor="middle" font-size="11" fill="#9e9e9e">Alerts</text>
                        
                        <!-- Tab 4 -->
                        <rect x="430" y="50" width="115" height="60" fill="transparent"/>
                        <text x="487" y="75" text-anchor="middle" font-size="20" fill="#9e9e9e">üë§</text>
                        <text x="487" y="98" text-anchor="middle" font-size="11" fill="#9e9e9e">Profile</text>
                        
                        <!-- Labels -->
                        <text x="115" y="135" text-anchor="middle" font-size="10" fill="#2196F3">Active Tab</text>
                        <path d="M115,120 L115,108" stroke="#2196F3" stroke-width="1"/>
                        
                        <text x="365" y="135" text-anchor="middle" font-size="10" fill="#f44336">Badge</text>
                        <path d="M365,120 L378,62" stroke="#f44336" stroke-width="1" stroke-dasharray="2"/>
                        
                        <text x="300" y="165" text-anchor="middle" font-size="10" fill="#666">tabBarStyle, tabBarActiveTintColor, tabBarInactiveTintColor</text>
                    </svg>
                </div>

                <h3>Tab Screen Files</h3>

                <pre><code class="language-tsx">// app/(tabs)/index.tsx - Home tab
import { View, Text, StyleSheet } from 'react-native';

export default function HomeScreen() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.title}&gt;Home&lt;/Text&gt;
      &lt;Text style={styles.subtitle}&gt;Welcome to the app!&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
  },
  subtitle: {
    fontSize: 16,
    color: '#666',
    marginTop: 8,
  },
});

// app/(tabs)/search.tsx - Search tab
export default function SearchScreen() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.title}&gt;Search&lt;/Text&gt;
    &lt;/View&gt;
  );
}

// Similar structure for other tabs...</code></pre>
            </section>

            <!-- Tab Icons -->
            <section id="tab-icons">
                <h2>Tab Icons</h2>

                <p>Icons are essential for tab navigation‚Äîthey help users quickly identify each tab. Expo provides the <code>@expo/vector-icons</code> package with popular icon libraries built in.</p>

                <h3>Using Ionicons</h3>

                <pre><code class="language-tsx">// app/(tabs)/_layout.tsx
import { Tabs } from 'expo-router';
import { Ionicons } from '@expo/vector-icons';

export default function TabLayout() {
  return (
    &lt;Tabs
      screenOptions={{
        tabBarActiveTintColor: '#2196F3',
        tabBarInactiveTintColor: '#9e9e9e',
      }}
    &gt;
      &lt;Tabs.Screen
        name="index"
        options={{
          title: 'Home',
          tabBarIcon: ({ color, size }) =&gt; (
            &lt;Ionicons name="home" size={size} color={color} /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="search"
        options={{
          title: 'Search',
          tabBarIcon: ({ color, size }) =&gt; (
            &lt;Ionicons name="search" size={size} color={color} /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="notifications"
        options={{
          title: 'Notifications',
          tabBarIcon: ({ color, size }) =&gt; (
            &lt;Ionicons name="notifications" size={size} color={color} /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="profile"
        options={{
          title: 'Profile',
          tabBarIcon: ({ color, size }) =&gt; (
            &lt;Ionicons name="person" size={size} color={color} /&gt;
          ),
        }}
      /&gt;
    &lt;/Tabs&gt;
  );
}</code></pre>

                <h3>Focused vs Unfocused Icons</h3>

                <p>Many icon libraries have filled and outline variants. Use them to distinguish active tabs:</p>

                <pre><code class="language-tsx">// Using different icons for focused/unfocused state
&lt;Tabs.Screen
  name="index"
  options={{
    title: 'Home',
    tabBarIcon: ({ color, size, focused }) =&gt; (
      &lt;Ionicons 
        name={focused ? 'home' : 'home-outline'} 
        size={size} 
        color={color} 
      /&gt;
    ),
  }}
/&gt;

&lt;Tabs.Screen
  name="notifications"
  options={{
    title: 'Notifications',
    tabBarIcon: ({ color, size, focused }) =&gt; (
      &lt;Ionicons 
        name={focused ? 'notifications' : 'notifications-outline'} 
        size={size} 
        color={color} 
      /&gt;
    ),
  }}
/&gt;</code></pre>

                <h3>Available Icon Libraries</h3>

                <div class="card">
                    <h4>üì¶ @expo/vector-icons Libraries</h4>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f5f5f5;">
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #ddd;">Library</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #ddd;">Import</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #ddd;">Style</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;">Ionicons</td>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;"><code>import { Ionicons } from '@expo/vector-icons'</code></td>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;">iOS-style, outline/filled</td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;">MaterialIcons</td>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;"><code>import { MaterialIcons } from '@expo/vector-icons'</code></td>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;">Material Design</td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;">MaterialCommunityIcons</td>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;"><code>import { MaterialCommunityIcons } from '@expo/vector-icons'</code></td>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;">Extended Material</td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;">FontAwesome</td>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;"><code>import { FontAwesome } from '@expo/vector-icons'</code></td>
                                <td style="padding: 12px; border-bottom: 1px solid #eee;">Classic web icons</td>
                            </tr>
                            <tr>
                                <td style="padding: 12px;">Feather</td>
                                <td style="padding: 12px;"><code>import { Feather } from '@expo/vector-icons'</code></td>
                                <td style="padding: 12px;">Minimal, line icons</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Finding Icon Names</h4>
                    <p>Browse available icons at <a href="https://icons.expo.fyi" target="_blank" rel="noopener">icons.expo.fyi</a>. Search by name, copy the import statement, and use it in your code.</p>
                </div>

                <h3>Custom Tab Icons</h3>

                <pre><code class="language-tsx">// Using custom images or SVGs
import { Image } from 'react-native';

&lt;Tabs.Screen
  name="index"
  options={{
    title: 'Home',
    tabBarIcon: ({ focused }) =&gt; (
      &lt;Image
        source={
          focused 
            ? require('@/assets/icons/home-active.png')
            : require('@/assets/icons/home.png')
        }
        style={{ width: 24, height: 24 }}
      /&gt;
    ),
  }}
/&gt;

// Using a custom SVG component
import HomeSvg from '@/assets/icons/home.svg';

&lt;Tabs.Screen
  name="index"
  options={{
    title: 'Home',
    tabBarIcon: ({ color, size }) =&gt; (
      &lt;HomeSvg width={size} height={size} fill={color} /&gt;
    ),
  }}
/&gt;</code></pre>
            </section>

            <!-- Tab Bar Styling -->
            <section id="tab-styling">
                <h2>Tab Bar Styling</h2>

                <p>Customize the tab bar appearance to match your brand and design system.</p>

                <h3>Common Style Options</h3>

                <pre><code class="language-tsx">// app/(tabs)/_layout.tsx
import { Tabs } from 'expo-router';
import { Platform } from 'react-native';

export default function TabLayout() {
  return (
    &lt;Tabs
      screenOptions={{
        // Tab bar colors
        tabBarActiveTintColor: '#6366f1',
        tabBarInactiveTintColor: '#9ca3af',
        
        // Tab bar background
        tabBarStyle: {
          backgroundColor: '#ffffff',
          borderTopWidth: 1,
          borderTopColor: '#e5e7eb',
          height: Platform.OS === 'ios' ? 88 : 60,
          paddingBottom: Platform.OS === 'ios' ? 28 : 8,
          paddingTop: 8,
        },
        
        // Tab label styling
        tabBarLabelStyle: {
          fontSize: 12,
          fontWeight: '500',
        },
        
        // Show/hide labels
        tabBarShowLabel: true,
        
        // Header styling (applies to all tab screens)
        headerStyle: {
          backgroundColor: '#6366f1',
        },
        headerTintColor: '#fff',
        headerTitleStyle: {
          fontWeight: 'bold',
        },
      }}
    &gt;
      {/* Tabs.Screen components */}
    &lt;/Tabs&gt;
  );
}</code></pre>

                <h3>Dark Mode Support</h3>

                <pre><code class="language-tsx">import { Tabs } from 'expo-router';
import { useColorScheme } from 'react-native';

export default function TabLayout() {
  const colorScheme = useColorScheme();
  const isDark = colorScheme === 'dark';

  return (
    &lt;Tabs
      screenOptions={{
        tabBarActiveTintColor: isDark ? '#818cf8' : '#6366f1',
        tabBarInactiveTintColor: isDark ? '#6b7280' : '#9ca3af',
        tabBarStyle: {
          backgroundColor: isDark ? '#1f2937' : '#ffffff',
          borderTopColor: isDark ? '#374151' : '#e5e7eb',
        },
        headerStyle: {
          backgroundColor: isDark ? '#1f2937' : '#6366f1',
        },
        headerTintColor: '#fff',
      }}
    &gt;
      {/* Tabs */}
    &lt;/Tabs&gt;
  );
}</code></pre>

                <h3>Platform-Specific Styling</h3>

                <pre><code class="language-tsx">import { Platform } from 'react-native';

const tabBarStyle = Platform.select({
  ios: {
    backgroundColor: 'rgba(255, 255, 255, 0.9)',
    position: 'absolute', // Floating tab bar
    borderTopWidth: 0,
    elevation: 0,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: -2 },
    shadowOpacity: 0.1,
    shadowRadius: 8,
  },
  android: {
    backgroundColor: '#ffffff',
    borderTopWidth: 1,
    borderTopColor: '#e5e7eb',
    elevation: 8,
  },
});

// In screenOptions
tabBarStyle: tabBarStyle,</code></pre>

                <!-- SVG: Tab Bar Styles Comparison -->
                <div class="svg-container" style="text-align: center; margin: 2rem 0;">
                    <svg viewBox="0 0 650 200" style="max-width: 100%; height: auto; font-family: system-ui, sans-serif;">
                        <!-- Background -->
                        <rect width="650" height="200" fill="#f8f9fa"/>
                        
                        <!-- Title -->
                        <text x="325" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">Tab Bar Style Variations</text>
                        
                        <!-- Style 1: Default -->
                        <text x="110" y="55" text-anchor="middle" font-size="11" fill="#666">Default</text>
                        <rect x="30" y="65" width="160" height="50" fill="#fff" stroke="#e0e0e0" stroke-width="1"/>
                        <g font-size="16" fill="#9e9e9e">
                            <text x="55" y="95">üè†</text>
                            <text x="90" y="95">üîç</text>
                            <text x="125" y="95">üîî</text>
                            <text x="160" y="95">üë§</text>
                        </g>
                        <rect x="45" y="80" width="25" height="25" fill="#e3f2fd" rx="4"/>
                        <text x="58" y="95" font-size="16" fill="#2196F3">üè†</text>
                        
                        <!-- Style 2: Minimal -->
                        <text x="325" y="55" text-anchor="middle" font-size="11" fill="#666">Minimal (no labels)</text>
                        <rect x="245" y="65" width="160" height="50" fill="#fff" stroke="none"/>
                        <g font-size="20">
                            <text x="270" y="98" fill="#2196F3">üè†</text>
                            <text x="305" y="98" fill="#bdbdbd">üîç</text>
                            <text x="340" y="98" fill="#bdbdbd">üîî</text>
                            <text x="375" y="98" fill="#bdbdbd">üë§</text>
                        </g>
                        
                        <!-- Style 3: Floating -->
                        <text x="540" y="55" text-anchor="middle" font-size="11" fill="#666">Floating (iOS style)</text>
                        <rect x="455" y="60" width="170" height="55" fill="#f5f5f5" rx="0"/>
                        <rect x="470" y="70" width="140" height="40" fill="#fff" rx="20" stroke="none" filter="url(#shadow)"/>
                        <g font-size="16">
                            <text x="495" y="95" fill="#2196F3">üè†</text>
                            <text x="525" y="95" fill="#bdbdbd">üîç</text>
                            <text x="555" y="95" fill="#bdbdbd">üîî</text>
                            <text x="585" y="95" fill="#bdbdbd">üë§</text>
                        </g>
                        
                        <!-- Labels row -->
                        <g font-size="9" fill="#999">
                            <text x="110" y="135" text-anchor="middle">Border top, labels</text>
                            <text x="325" y="135" text-anchor="middle">No border, icons only</text>
                            <text x="540" y="135" text-anchor="middle">Rounded, elevated</text>
                        </g>
                        
                        <!-- Code hints -->
                        <g font-family="monospace" font-size="8" fill="#666">
                            <text x="110" y="155" text-anchor="middle">tabBarShowLabel: true</text>
                            <text x="325" y="155" text-anchor="middle">tabBarShowLabel: false</text>
                            <text x="540" y="155" text-anchor="middle">position: 'absolute'</text>
                        </g>
                        
                        <defs>
                            <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                                <feDropShadow dx="0" dy="2" stdDeviation="4" flood-opacity="0.15"/>
                            </filter>
                        </defs>
                    </svg>
                </div>

                <h3>Custom Tab Bar Background</h3>

                <pre><code class="language-tsx">import { BlurView } from 'expo-blur';

&lt;Tabs
  screenOptions={{
    tabBarBackground: () =&gt; (
      &lt;BlurView
        intensity={100}
        style={{
          position: 'absolute',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
        }}
      /&gt;
    ),
    tabBarStyle: {
      position: 'absolute',
      backgroundColor: 'transparent',
      borderTopWidth: 0,
    },
  }}
&gt;</code></pre>
            </section>

            <!-- Badges and Indicators -->
            <section id="badges">
                <h2>Badges and Indicators</h2>

                <p>Badges show notification counts or status indicators on tab icons. They're essential for drawing attention to updates.</p>

                <h3>Simple Badge</h3>

                <pre><code class="language-tsx">// app/(tabs)/_layout.tsx
&lt;Tabs.Screen
  name="notifications"
  options={{
    title: 'Notifications',
    tabBarIcon: ({ color, size }) =&gt; (
      &lt;Ionicons name="notifications-outline" size={size} color={color} /&gt;
    ),
    // Simple badge with count
    tabBarBadge: 5,
  }}
/&gt;

// Dynamic badge based on state
import { useNotifications } from '@/hooks/useNotifications';

export default function TabLayout() {
  const { unreadCount } = useNotifications();

  return (
    &lt;Tabs&gt;
      &lt;Tabs.Screen
        name="notifications"
        options={{
          tabBarBadge: unreadCount &gt; 0 ? unreadCount : undefined,
        }}
      /&gt;
    &lt;/Tabs&gt;
  );
}</code></pre>

                <h3>Styled Badge</h3>

                <pre><code class="language-tsx">// Badge styling
&lt;Tabs
  screenOptions={{
    tabBarBadgeStyle: {
      backgroundColor: '#ef4444',
      color: '#fff',
      fontSize: 10,
      fontWeight: 'bold',
      minWidth: 18,
      height: 18,
      borderRadius: 9,
    },
  }}
&gt;</code></pre>

                <h3>Custom Badge Component</h3>

                <pre><code class="language-tsx">// components/TabBarIconWithBadge.tsx
import { View, Text, StyleSheet } from 'react-native';
import { Ionicons } from '@expo/vector-icons';

interface TabBarIconWithBadgeProps {
  name: keyof typeof Ionicons.glyphMap;
  color: string;
  size: number;
  badge?: number | boolean;
}

export function TabBarIconWithBadge({ 
  name, 
  color, 
  size, 
  badge 
}: TabBarIconWithBadgeProps) {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Ionicons name={name} size={size} color={color} /&gt;
      
      {badge !== undefined &amp;&amp; badge !== false &amp;&amp; badge !== 0 &amp;&amp; (
        &lt;View style={styles.badge}&gt;
          {typeof badge === 'number' &amp;&amp; (
            &lt;Text style={styles.badgeText}&gt;
              {badge &gt; 99 ? '99+' : badge}
            &lt;/Text&gt;
          )}
        &lt;/View&gt;
      )}
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    width: 28,
    height: 28,
    justifyContent: 'center',
    alignItems: 'center',
  },
  badge: {
    position: 'absolute',
    top: -4,
    right: -8,
    backgroundColor: '#ef4444',
    borderRadius: 10,
    minWidth: 18,
    height: 18,
    justifyContent: 'center',
    alignItems: 'center',
    paddingHorizontal: 4,
  },
  badgeText: {
    color: '#fff',
    fontSize: 10,
    fontWeight: 'bold',
  },
});

// Usage
&lt;Tabs.Screen
  name="notifications"
  options={{
    tabBarIcon: ({ color, size }) =&gt; (
      &lt;TabBarIconWithBadge
        name="notifications-outline"
        color={color}
        size={size}
        badge={unreadCount}
      /&gt;
    ),
  }}
/&gt;</code></pre>

                <h3>Dot Indicator (No Number)</h3>

                <pre><code class="language-tsx">// Show a dot for "has updates" without a count
function TabBarIconWithDot({ name, color, size, showDot }) {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Ionicons name={name} size={size} color={color} /&gt;
      {showDot &amp;&amp; &lt;View style={styles.dot} /&gt;}
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    width: 28,
    height: 28,
    justifyContent: 'center',
    alignItems: 'center',
  },
  dot: {
    position: 'absolute',
    top: 0,
    right: 0,
    width: 8,
    height: 8,
    borderRadius: 4,
    backgroundColor: '#ef4444',
  },
});</code></pre>
            </section>

            <!-- Tab Press Events -->
            <section id="tab-events">
                <h2>Tab Press Events</h2>

                <p>Handle tab press events for custom behavior like scrolling to top, refreshing data, or showing modals.</p>

                <h3>Tab Press Listeners</h3>

                <pre><code class="language-tsx">// app/(tabs)/_layout.tsx
import { Tabs } from 'expo-router';

export default function TabLayout() {
  return (
    &lt;Tabs
      screenListeners={{
        tabPress: (e) =&gt; {
          // Runs for every tab press
          console.log('Tab pressed:', e.target);
        },
      }}
    &gt;
      &lt;Tabs.Screen
        name="index"
        options={{
          title: 'Home',
        }}
        listeners={{
          tabPress: (e) =&gt; {
            // Only runs for this specific tab
            console.log('Home tab pressed');
          },
        }}
      /&gt;
    &lt;/Tabs&gt;
  );
}</code></pre>

                <h3>Scroll to Top on Tab Press</h3>

                <pre><code class="language-tsx">// app/(tabs)/index.tsx
import { useRef, useCallback } from 'react';
import { FlatList, View, Text } from 'react-native';
import { useFocusEffect, useNavigation } from '@react-navigation/native';

export default function HomeScreen() {
  const flatListRef = useRef&lt;FlatList&gt;(null);
  const navigation = useNavigation();

  useFocusEffect(
    useCallback(() =&gt; {
      // Add listener for when this tab is pressed while already focused
      const unsubscribe = navigation.addListener('tabPress', (e) =&gt; {
        // Scroll to top
        flatListRef.current?.scrollToOffset({ offset: 0, animated: true });
      });

      return unsubscribe;
    }, [navigation])
  );

  return (
    &lt;FlatList
      ref={flatListRef}
      data={items}
      renderItem={({ item }) =&gt; &lt;Text&gt;{item.title}&lt;/Text&gt;}
    /&gt;
  );
}</code></pre>

                <h3>Prevent Tab Switch</h3>

                <pre><code class="language-tsx">// Prevent switching to a tab (e.g., require login)
&lt;Tabs.Screen
  name="profile"
  options={{
    title: 'Profile',
  }}
  listeners={{
    tabPress: (e) =&gt; {
      if (!isLoggedIn) {
        // Prevent the default action
        e.preventDefault();
        
        // Navigate to login instead
        router.push('/login');
      }
    },
  }}
/&gt;</code></pre>

                <h3>Long Press on Tab</h3>

                <pre><code class="language-tsx">// Handle long press for additional options
&lt;Tabs.Screen
  name="notifications"
  listeners={{
    tabLongPress: (e) =&gt; {
      // Show action sheet or modal
      Alert.alert(
        'Notifications',
        'What would you like to do?',
        [
          { text: 'Mark All as Read', onPress: markAllRead },
          { text: 'Settings', onPress: () =&gt; router.push('/notification-settings') },
          { text: 'Cancel', style: 'cancel' },
        ]
      );
    },
  }}
/&gt;</code></pre>

                <pre class="mermaid">
flowchart TD
    A[User taps tab] --> B{Already on this tab?}
    B -->|No| C[Switch to tab]
    B -->|Yes| D{Has tabPress listener?}
    
    D -->|No| E[Default behavior]
    D -->|Yes| F[Run listener]
    
    F --> G{preventDefault called?}
    G -->|No| H[Continue with navigation]
    G -->|Yes| I[Cancel navigation]
    
    H --> J[Screen focuses]
    
    E --> K[Scroll to top if scrollable]
    
    style C fill:#e8f5e9
    style J fill:#e8f5e9
    style I fill:#fff3cd
                </pre>
            </section>
            <!-- Combining Tabs with Stacks -->
            <section id="tabs-with-stacks">
                <h2>Combining Tabs with Stacks</h2>

                <p>Real-world apps combine tabs with stacks. Each tab typically has its own stack navigator for drilling into content while maintaining the tab bar.</p>

                <h3>Architecture Overview</h3>

                <pre class="mermaid">
flowchart TD
    subgraph Root["Root Stack"]
        A[Root Layout]
    end
    
    subgraph TabNav["Tab Navigator"]
        B["(tabs)/_layout.tsx"]
        
        subgraph Tab1["Home Tab"]
            C[index.tsx]
            D[product/id.tsx]
            E[category/id.tsx]
        end
        
        subgraph Tab2["Search Tab"]
            F[search/index.tsx]
            G[search/results.tsx]
        end
        
        subgraph Tab3["Profile Tab"]
            H[profile/index.tsx]
            I[profile/settings.tsx]
            J[profile/edit.tsx]
        end
    end
    
    subgraph Modals["Modal Screens"]
        K[login.tsx]
        L[create-post.tsx]
    end
    
    A --> B
    B --> Tab1
    B --> Tab2
    B --> Tab3
    A --> Modals
    
    style A fill:#e3f2fd
    style B fill:#fff3cd
    style K fill:#fce4ec
    style L fill:#fce4ec
                </pre>

                <h3>File Structure for Tabs + Stacks</h3>

                <pre><code class="language-text">app/
‚îú‚îÄ‚îÄ _layout.tsx              # Root Stack
‚îú‚îÄ‚îÄ login.tsx                # Modal (outside tabs)
‚îú‚îÄ‚îÄ create-post.tsx          # Modal (outside tabs)
‚îî‚îÄ‚îÄ (tabs)/
    ‚îú‚îÄ‚îÄ _layout.tsx          # Tab Navigator
    ‚îú‚îÄ‚îÄ index.tsx            # Home tab entry
    ‚îú‚îÄ‚îÄ home/                # Home tab stack screens
    ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx      # Home stack navigator
    ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx        # Home main screen
    ‚îÇ   ‚îú‚îÄ‚îÄ [productId].tsx  # Product detail
    ‚îÇ   ‚îî‚îÄ‚îÄ category/
    ‚îÇ       ‚îî‚îÄ‚îÄ [id].tsx     # Category screen
    ‚îú‚îÄ‚îÄ search.tsx           # Search tab (single screen)
    ‚îú‚îÄ‚îÄ notifications.tsx    # Notifications tab
    ‚îî‚îÄ‚îÄ profile/             # Profile tab stack screens
        ‚îú‚îÄ‚îÄ _layout.tsx      # Profile stack navigator
        ‚îú‚îÄ‚îÄ index.tsx        # Profile main
        ‚îú‚îÄ‚îÄ settings.tsx     # Settings screen
        ‚îî‚îÄ‚îÄ edit.tsx         # Edit profile</code></pre>

                <h3>Root Layout with Tabs and Modals</h3>

                <pre><code class="language-tsx">// app/_layout.tsx
import { Stack } from 'expo-router';

export default function RootLayout() {
  return (
    &lt;Stack&gt;
      {/* Tab navigator as main content */}
      &lt;Stack.Screen
        name="(tabs)"
        options={{ headerShown: false }}
      /&gt;
      
      {/* Modal screens accessible from anywhere */}
      &lt;Stack.Screen
        name="login"
        options={{
          presentation: 'modal',
          title: 'Login',
        }}
      /&gt;
      &lt;Stack.Screen
        name="create-post"
        options={{
          presentation: 'modal',
          title: 'Create Post',
        }}
      /&gt;
    &lt;/Stack&gt;
  );
}</code></pre>

                <h3>Tab Layout with Nested Stacks</h3>

                <pre><code class="language-tsx">// app/(tabs)/_layout.tsx
import { Tabs } from 'expo-router';
import { Ionicons } from '@expo/vector-icons';

export default function TabLayout() {
  return (
    &lt;Tabs
      screenOptions={{
        tabBarActiveTintColor: '#6366f1',
        headerShown: false, // Each stack has its own headers
      }}
    &gt;
      &lt;Tabs.Screen
        name="home"
        options={{
          title: 'Home',
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'home' : 'home-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="search"
        options={{
          title: 'Search',
          headerShown: true, // Single screen, show header
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'search' : 'search-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="notifications"
        options={{
          title: 'Notifications',
          headerShown: true,
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'notifications' : 'notifications-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="profile"
        options={{
          title: 'Profile',
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'person' : 'person-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
    &lt;/Tabs&gt;
  );
}</code></pre>

                <h3>Nested Stack Layout</h3>

                <pre><code class="language-tsx">// app/(tabs)/home/_layout.tsx
import { Stack } from 'expo-router';

export default function HomeLayout() {
  return (
    &lt;Stack
      screenOptions={{
        headerStyle: { backgroundColor: '#6366f1' },
        headerTintColor: '#fff',
      }}
    &gt;
      &lt;Stack.Screen
        name="index"
        options={{ title: 'Home' }}
      /&gt;
      &lt;Stack.Screen
        name="[productId]"
        options={{ title: 'Product' }}
      /&gt;
      &lt;Stack.Screen
        name="category/[id]"
        options={{ title: 'Category' }}
      /&gt;
    &lt;/Stack&gt;
  );
}

// app/(tabs)/home/index.tsx
import { View, FlatList, Pressable, Text, StyleSheet } from 'react-native';
import { Link } from 'expo-router';

export default function HomeScreen() {
  const products = [
    { id: '1', name: 'Product 1' },
    { id: '2', name: 'Product 2' },
  ];

  return (
    &lt;FlatList
      data={products}
      keyExtractor={(item) =&gt; item.id}
      renderItem={({ item }) =&gt; (
        &lt;Link href={`/home/${item.id}`} asChild&gt;
          &lt;Pressable style={styles.item}&gt;
            &lt;Text&gt;{item.name}&lt;/Text&gt;
          &lt;/Pressable&gt;
        &lt;/Link&gt;
      )}
    /&gt;
  );
}

// app/(tabs)/home/[productId].tsx
import { useLocalSearchParams, Stack } from 'expo-router';
import { View, Text } from 'react-native';

export default function ProductScreen() {
  const { productId } = useLocalSearchParams();

  return (
    &lt;&gt;
      &lt;Stack.Screen options={{ title: `Product ${productId}` }} /&gt;
      &lt;View&gt;
        &lt;Text&gt;Product Details: {productId}&lt;/Text&gt;
      &lt;/View&gt;
    &lt;/&gt;
  );
}</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Navigation Tips</h4>
                    <ul>
                        <li>Use <code>headerShown: false</code> on tabs when each tab has its own stack with headers</li>
                        <li>Keep modal screens at the root level so they can be accessed from any tab</li>
                        <li>Each tab's stack maintains its own navigation history</li>
                        <li>Use absolute paths like <code>/home/123</code> for cross-tab navigation</li>
                    </ul>
                </div>
            </section>

            <!-- Hiding the Tab Bar -->
            <section id="hiding-tab-bar">
                <h2>Hiding the Tab Bar</h2>

                <p>Sometimes you need to hide the tab bar on certain screens‚Äîlike detail views, media players, or immersive experiences.</p>

                <h3>Method 1: Per-Screen Option</h3>

                <pre><code class="language-tsx">// In the screen file itself
import { Tabs } from 'expo-router';

export default function FullScreenVideo() {
  return (
    &lt;&gt;
      &lt;Tabs.Screen
        options={{
          tabBarStyle: { display: 'none' },
          // Also hide header if needed
          headerShown: false,
        }}
      /&gt;
      &lt;VideoPlayer /&gt;
    &lt;/&gt;
  );
}</code></pre>

                <h3>Method 2: In the Stack Layout</h3>

                <pre><code class="language-tsx">// app/(tabs)/home/_layout.tsx
import { Stack } from 'expo-router';

export default function HomeLayout() {
  return (
    &lt;Stack&gt;
      &lt;Stack.Screen name="index" options={{ title: 'Home' }} /&gt;
      
      {/* Hide tab bar for this screen */}
      &lt;Stack.Screen
        name="video/[id]"
        options={{
          title: 'Video',
          // This screen gets full height
        }}
      /&gt;
    &lt;/Stack&gt;
  );
}

// Then in the video screen:
// app/(tabs)/home/video/[id].tsx
import { useNavigation } from '@react-navigation/native';
import { useLayoutEffect } from 'react';

export default function VideoScreen() {
  const navigation = useNavigation();
  const parentNavigation = navigation.getParent();

  useLayoutEffect(() =&gt; {
    // Hide tab bar when this screen mounts
    parentNavigation?.setOptions({
      tabBarStyle: { display: 'none' },
    });

    return () =&gt; {
      // Show tab bar when leaving
      parentNavigation?.setOptions({
        tabBarStyle: undefined,
      });
    };
  }, [parentNavigation]);

  return &lt;VideoPlayer /&gt;;
}</code></pre>

                <h3>Method 3: Custom Hook for Hiding Tab Bar</h3>

                <pre><code class="language-tsx">// hooks/useHideTabBar.ts
import { useNavigation } from '@react-navigation/native';
import { useLayoutEffect } from 'react';

export function useHideTabBar() {
  const navigation = useNavigation();

  useLayoutEffect(() =&gt; {
    const parent = navigation.getParent();
    
    parent?.setOptions({
      tabBarStyle: { display: 'none' },
    });

    return () =&gt; {
      parent?.setOptions({
        tabBarStyle: undefined,
      });
    };
  }, [navigation]);
}

// Usage in any screen
export default function ImmersiveScreen() {
  useHideTabBar();
  
  return &lt;View&gt;{/* Full screen content */}&lt;/View&gt;;
}</code></pre>

                <h3>Animated Tab Bar Hiding</h3>

                <pre><code class="language-tsx">// For smoother transitions, animate the tab bar
import Animated, { 
  useAnimatedStyle, 
  withTiming,
  useSharedValue,
} from 'react-native-reanimated';

// In your tab layout, use Animated tab bar style
const tabBarTranslateY = useSharedValue(0);

const animatedTabBarStyle = useAnimatedStyle(() =&gt; ({
  transform: [{ translateY: tabBarTranslateY.value }],
}));

// Expose a method to hide/show
const hideTabBar = () =&gt; {
  tabBarTranslateY.value = withTiming(100); // Slide down
};

const showTabBar = () =&gt; {
  tabBarTranslateY.value = withTiming(0); // Slide up
};</code></pre>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Tab Bar Hiding Gotchas</h4>
                    <ul>
                        <li>Hiding the tab bar can cause layout jumps‚Äîconsider animating it</li>
                        <li>Remember to show the tab bar again when leaving the screen</li>
                        <li>Test on both iOS and Android as behavior may differ</li>
                        <li>For truly immersive screens, consider putting them outside the tab navigator entirely</li>
                    </ul>
                </div>
            </section>

            <!-- Exercises -->
            <section id="exercises">
                <h2>Hands-On Exercises</h2>

                <!-- Exercise 1 -->
                <div class="exercise-card">
                    <h4>Exercise 1: Basic Tab Setup with Icons</h4>
                    <p>Create a 4-tab application with:</p>
                    <ul>
                        <li>Home, Explore, Messages, Profile tabs</li>
                        <li>Filled icons for active state, outline for inactive</li>
                        <li>Custom active/inactive colors</li>
                        <li>Each tab shows its name as a title</li>
                    </ul>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-tsx">// app/(tabs)/_layout.tsx
import { Tabs } from 'expo-router';
import { Ionicons } from '@expo/vector-icons';

export default function TabLayout() {
  return (
    &lt;Tabs
      screenOptions={{
        tabBarActiveTintColor: '#6366f1',
        tabBarInactiveTintColor: '#9ca3af',
        tabBarStyle: {
          backgroundColor: '#fff',
          borderTopColor: '#e5e7eb',
        },
      }}
    &gt;
      &lt;Tabs.Screen
        name="index"
        options={{
          title: 'Home',
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'home' : 'home-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="explore"
        options={{
          title: 'Explore',
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'compass' : 'compass-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="messages"
        options={{
          title: 'Messages',
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'chatbubbles' : 'chatbubbles-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
      &lt;Tabs.Screen
        name="profile"
        options={{
          title: 'Profile',
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'person' : 'person-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
    &lt;/Tabs&gt;
  );
}</code></pre>
                    </details>
                </div>

                <!-- Exercise 2 -->
                <div class="exercise-card">
                    <h4>Exercise 2: Dynamic Badge System</h4>
                    <p>Implement a notification badge that:</p>
                    <ul>
                        <li>Shows a count on the Messages tab</li>
                        <li>Updates dynamically (simulate with useState)</li>
                        <li>Shows "99+" for counts over 99</li>
                        <li>Disappears when count is 0</li>
                    </ul>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-tsx">// context/NotificationContext.tsx
import { createContext, useContext, useState, ReactNode } from 'react';

interface NotificationContextType {
  unreadCount: number;
  setUnreadCount: (count: number) =&gt; void;
  markAsRead: () =&gt; void;
  addNotification: () =&gt; void;
}

const NotificationContext = createContext&lt;NotificationContextType | null&gt;(null);

export function NotificationProvider({ children }: { children: ReactNode }) {
  const [unreadCount, setUnreadCount] = useState(5);

  const markAsRead = () =&gt; setUnreadCount(0);
  const addNotification = () =&gt; setUnreadCount(prev =&gt; prev + 1);

  return (
    &lt;NotificationContext.Provider 
      value={{ unreadCount, setUnreadCount, markAsRead, addNotification }}
    &gt;
      {children}
    &lt;/NotificationContext.Provider&gt;
  );
}

export const useNotifications = () =&gt; {
  const context = useContext(NotificationContext);
  if (!context) throw new Error('useNotifications must be used within provider');
  return context;
};

// app/(tabs)/_layout.tsx
import { useNotifications } from '@/context/NotificationContext';

export default function TabLayout() {
  const { unreadCount } = useNotifications();

  const formatBadge = (count: number) =&gt; {
    if (count === 0) return undefined;
    if (count &gt; 99) return '99+';
    return count;
  };

  return (
    &lt;Tabs&gt;
      &lt;Tabs.Screen
        name="messages"
        options={{
          title: 'Messages',
          tabBarBadge: formatBadge(unreadCount),
          tabBarBadgeStyle: {
            backgroundColor: '#ef4444',
            fontSize: 10,
          },
          tabBarIcon: ({ color, size, focused }) =&gt; (
            &lt;Ionicons
              name={focused ? 'chatbubbles' : 'chatbubbles-outline'}
              size={size}
              color={color}
            /&gt;
          ),
        }}
      /&gt;
    &lt;/Tabs&gt;
  );
}</code></pre>
                    </details>
                </div>

                <!-- Exercise 3 -->
                <div class="exercise-card">
                    <h4>Exercise 3: Tabs with Nested Stacks</h4>
                    <p>Build a shopping app structure:</p>
                    <ul>
                        <li>Shop tab with product list ‚Üí product detail ‚Üí reviews</li>
                        <li>Cart tab with cart ‚Üí checkout flow</li>
                        <li>Account tab with profile ‚Üí settings ‚Üí edit profile</li>
                        <li>Tab bar should remain visible during stack navigation</li>
                    </ul>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Create folders for each tab that needs a stack: <code>(tabs)/shop/</code>, <code>(tabs)/cart/</code>, <code>(tabs)/account/</code>. Each folder needs a <code>_layout.tsx</code> with a Stack navigator. Set <code>headerShown: false</code> on the Tabs.Screen for these tabs.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution Structure</summary>
                        <pre><code class="language-text">app/
‚îú‚îÄ‚îÄ _layout.tsx
‚îî‚îÄ‚îÄ (tabs)/
    ‚îú‚îÄ‚îÄ _layout.tsx
    ‚îú‚îÄ‚îÄ shop/
    ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx      # Stack
    ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx        # Product list
    ‚îÇ   ‚îú‚îÄ‚îÄ [id].tsx         # Product detail
    ‚îÇ   ‚îî‚îÄ‚îÄ [id]/reviews.tsx # Reviews
    ‚îú‚îÄ‚îÄ cart/
    ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx      # Stack
    ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx        # Cart
    ‚îÇ   ‚îî‚îÄ‚îÄ checkout.tsx     # Checkout
    ‚îî‚îÄ‚îÄ account/
        ‚îú‚îÄ‚îÄ _layout.tsx      # Stack
        ‚îú‚îÄ‚îÄ index.tsx        # Profile
        ‚îú‚îÄ‚îÄ settings.tsx     # Settings
        ‚îî‚îÄ‚îÄ edit.tsx         # Edit profile</code></pre>

                        <pre><code class="language-tsx">// app/(tabs)/_layout.tsx
&lt;Tabs screenOptions={{ headerShown: false }}&gt;
  &lt;Tabs.Screen name="shop" options={{ title: 'Shop' }} /&gt;
  &lt;Tabs.Screen name="cart" options={{ title: 'Cart' }} /&gt;
  &lt;Tabs.Screen name="account" options={{ title: 'Account' }} /&gt;
&lt;/Tabs&gt;

// app/(tabs)/shop/_layout.tsx
import { Stack } from 'expo-router';

export default function ShopLayout() {
  return (
    &lt;Stack&gt;
      &lt;Stack.Screen name="index" options={{ title: 'Shop' }} /&gt;
      &lt;Stack.Screen name="[id]" options={{ title: 'Product' }} /&gt;
      &lt;Stack.Screen name="[id]/reviews" options={{ title: 'Reviews' }} /&gt;
    &lt;/Stack&gt;
  );
}</code></pre>
                    </details>
                </div>

                <!-- Exercise 4 -->
                <div class="exercise-card">
                    <h4>Exercise 4: Scroll to Top on Tab Re-press</h4>
                    <p>Implement Instagram-like behavior where tapping the current tab scrolls the list to top.</p>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-tsx">// app/(tabs)/feed.tsx
import { useRef, useCallback } from 'react';
import { FlatList, View, Text, StyleSheet } from 'react-native';
import { useFocusEffect, useNavigation } from '@react-navigation/native';

const posts = Array.from({ length: 50 }, (_, i) =&gt; ({
  id: String(i),
  title: `Post ${i + 1}`,
}));

export default function FeedScreen() {
  const flatListRef = useRef&lt;FlatList&gt;(null);
  const navigation = useNavigation();

  useFocusEffect(
    useCallback(() =&gt; {
      const unsubscribe = navigation.addListener('tabPress', (e) =&gt; {
        // Check if we're already on this tab
        const isFocused = navigation.isFocused();
        
        if (isFocused) {
          // Scroll to top with animation
          flatListRef.current?.scrollToOffset({
            offset: 0,
            animated: true,
          });
        }
      });

      return unsubscribe;
    }, [navigation])
  );

  return (
    &lt;FlatList
      ref={flatListRef}
      data={posts}
      keyExtractor={(item) =&gt; item.id}
      renderItem={({ item }) =&gt; (
        &lt;View style={styles.post}&gt;
          &lt;Text style={styles.postTitle}&gt;{item.title}&lt;/Text&gt;
        &lt;/View&gt;
      )}
    /&gt;
  );
}

const styles = StyleSheet.create({
  post: {
    padding: 20,
    borderBottomWidth: 1,
    borderBottomColor: '#eee',
  },
  postTitle: {
    fontSize: 16,
  },
});</code></pre>
                    </details>
                </div>
            </section>

            <!-- Summary -->
            <section id="summary">
                <h2>Summary</h2>

                <p>You've mastered tab navigation‚Äîthe primary navigation pattern for most mobile apps. You can now create polished tab bars with icons, badges, and custom behavior.</p>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>üéØ Key Takeaways</h4>
                    <ul>
                        <li><strong>Tab Groups:</strong> Use <code>(tabs)/</code> folder with <code>Tabs</code> component in <code>_layout.tsx</code></li>
                        <li><strong>Icons:</strong> Use <code>tabBarIcon</code> with focused/unfocused variants for clear visual feedback</li>
                        <li><strong>Styling:</strong> Customize with <code>tabBarStyle</code>, <code>tabBarActiveTintColor</code>, and platform-specific options</li>
                        <li><strong>Badges:</strong> Use <code>tabBarBadge</code> for counts or custom components for complex indicators</li>
                        <li><strong>Events:</strong> Handle <code>tabPress</code> for scroll-to-top, refresh, or custom behavior</li>
                        <li><strong>Nested Stacks:</strong> Create folders within tabs for multi-screen flows while keeping tab bar visible</li>
                        <li><strong>Hiding Tab Bar:</strong> Use <code>tabBarStyle: { display: 'none' }</code> for immersive screens</li>
                    </ul>
                </div>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4 style="color: white;">üì± Common Tab Configurations</h4>
                    <pre style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; color: white; margin: 0;"><code>// Social App: Home, Search, Create, Notifications, Profile
// E-commerce: Home, Categories, Cart, Account  
// Media: Home, Search, Library, Downloads
// Productivity: Inbox, Today, Projects, Settings

// Tips:
// - 3-5 tabs is ideal
// - Most important tabs on the left
// - Profile/Settings typically on the right
// - Use badges sparingly (notifications, cart count)</code></pre>
                </div>

                <h3>What's Next?</h3>

                <p>In the next lesson, we'll explore <strong>Nested Navigation</strong> in depth‚Äîcombining multiple navigators for complex app architectures, handling deep navigation states, and implementing common patterns like authentication flows.</p>
            </section>

            <!-- Lesson Navigation -->
            <div class="lesson-nav">
                <a href="m06_l03_stack_navigation.html" class="prev-link">
                    <span class="arrow">‚Üê</span>
                    <div class="nav-content">
                        <span class="nav-label">Previous</span>
                        <span class="nav-title">Stack Navigation</span>
                    </div>
                </a>
                
                <a href="index.html" class="home-link" title="Back to Course Home">
                    üè†
                </a>
                
                <a href="m06_l05_nested_navigation.html" class="next-link">
                    <div class="nav-content">
                        <span class="nav-label">Next</span>
                        <span class="nav-title">Nested Navigation</span>
                    </div>
                    <span class="arrow">‚Üí</span>
                </a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 React Native & Expo Course. All rights reserved.</p>
            <p>
                <a href="index.html">Home</a> |
                <a href="index.html#modules">Modules</a> |
                <a href="index.html#appendices">Appendices</a>
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/course-enhancements.js"></script>
</body>
</html>
