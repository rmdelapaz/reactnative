<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Common React Native and Expo errors with solutions">
    <meta name="author" content="React Native & Expo Course">
    <title>Appendix A: Common Errors and Solutions | React Native & Expo Course</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">üì± RN Course</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">‚ò∞</button>
            <div class="nav-links" id="nav-links">
                <a href="index.html">Home</a>
                <a href="index.html#modules">Modules</a>
                <a href="index.html#appendices">Appendices</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>
    <div class="breadcrumb">
        <div class="container">
            <a href="index.html">Home</a> &gt;
            <a href="index.html#appendices">Appendices</a> &gt;
            <span>Appendix A</span>
        </div>
    </div>
    <main id="main-content">
        <div class="container">
            <header>
                <p class="module-tag">Appendix A</p>
                <h1>üêõ Common Errors and Solutions</h1>
                <p class="lesson-subtitle">Quick fixes for the most frequent React Native and Expo issues</p>
            </header>

            <div class="toc-container">
                <details class="toc-details" open>
                    <summary>üìë Table of Contents</summary>
                    <ul class="toc-list">
                        <li><a href="#red-box-errors">Red Box Errors</a></li>
                        <li><a href="#metro-bundler">Metro Bundler Issues</a></li>
                        <li><a href="#native-dependencies">Native Dependency Problems</a></li>
                        <li><a href="#build-errors">Build Errors</a></li>
                        <li><a href="#runtime-errors">Runtime Errors</a></li>
                        <li><a href="#expo-specific">Expo-Specific Issues</a></li>
                        <li><a href="#debugging-strategies">Debugging Strategies</a></li>
                    </ul>
                </details>
            </div>

            <!-- Red Box Errors -->
            <section id="red-box-errors">
                <h2>Red Box Errors</h2>
                <p>Red box errors appear when there's a JavaScript exception. Here are the most common ones:</p>

                <div class="card" style="border-left: 4px solid #f44336;">
                    <h4>‚ùå "Text strings must be rendered within a &lt;Text&gt; component"</h4>
                    <p><strong>Cause:</strong> Raw text outside of a Text component</p>
                    <pre><code>// ‚ùå Wrong
&lt;View&gt;
  Hello World
&lt;/View&gt;

// ‚úÖ Correct
&lt;View&gt;
  &lt;Text&gt;Hello World&lt;/Text&gt;
&lt;/View&gt;</code></pre>
                    <p><strong>Also check:</strong> Conditional rendering that might render empty strings or whitespace.</p>
                    <pre><code>// ‚ùå Can cause issues
&lt;View&gt;
  {condition &amp;&amp; 'Some text'}
&lt;/View&gt;

// ‚úÖ Safer
&lt;View&gt;
  {condition &amp;&amp; &lt;Text&gt;Some text&lt;/Text&gt;}
&lt;/View&gt;</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #f44336;">
                    <h4>‚ùå "Cannot read property 'X' of undefined"</h4>
                    <p><strong>Cause:</strong> Accessing properties on undefined objects, often from API responses or navigation params</p>
                    <pre><code>// ‚ùå Unsafe
const name = user.profile.name;

// ‚úÖ Safe with optional chaining
const name = user?.profile?.name;

// ‚úÖ Safe with default value
const name = user?.profile?.name ?? 'Unknown';</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #f44336;">
                    <h4>‚ùå "Invariant Violation: View config getter callback..."</h4>
                    <p><strong>Cause:</strong> Using a component that isn't properly imported or doesn't exist</p>
                    <pre><code>// ‚ùå Wrong import
import { Button } from 'react-native'; // Button exists but check spelling

// ‚ùå Typo in component name
&lt;Veiw&gt;&lt;/Veiw&gt;

// ‚úÖ Correct
import { View, Button } from 'react-native';
&lt;View&gt;&lt;/View&gt;</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #f44336;">
                    <h4>‚ùå "Objects are not valid as a React child"</h4>
                    <p><strong>Cause:</strong> Trying to render an object directly</p>
                    <pre><code>// ‚ùå Wrong - rendering object
const user = { name: 'John', age: 30 };
&lt;Text&gt;{user}&lt;/Text&gt;

// ‚úÖ Correct - render specific properties
&lt;Text&gt;{user.name}&lt;/Text&gt;

// ‚úÖ Or stringify for debugging
&lt;Text&gt;{JSON.stringify(user, null, 2)}&lt;/Text&gt;</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #f44336;">
                    <h4>‚ùå "Each child in a list should have a unique 'key' prop"</h4>
                    <p><strong>Cause:</strong> Missing or duplicate keys in lists</p>
                    <pre><code>// ‚ùå Wrong - no key
{items.map(item =&gt; &lt;Text&gt;{item.name}&lt;/Text&gt;)}

// ‚ùå Wrong - using index as key (can cause issues)
{items.map((item, index) =&gt; &lt;Text key={index}&gt;{item.name}&lt;/Text&gt;)}

// ‚úÖ Correct - unique identifier
{items.map(item =&gt; &lt;Text key={item.id}&gt;{item.name}&lt;/Text&gt;)}</code></pre>
                </div>
            </section>

            <!-- Metro Bundler Issues -->
            <section id="metro-bundler">
                <h2>Metro Bundler Issues</h2>

                <div class="card" style="border-left: 4px solid #ff9800;">
                    <h4>‚ö†Ô∏è "Unable to resolve module" or "Module not found"</h4>
                    <p><strong>Solutions (try in order):</strong></p>
                    <ol>
                        <li>Clear Metro cache and restart:
                            <pre><code>npx expo start -c</code></pre>
                        </li>
                        <li>Delete node_modules and reinstall:
                            <pre><code>rm -rf node_modules
npm install</code></pre>
                        </li>
                        <li>Check the import path is correct (case-sensitive on some systems)</li>
                        <li>Verify the package is installed:
                            <pre><code>npm list package-name</code></pre>
                        </li>
                    </ol>
                </div>

                <div class="card" style="border-left: 4px solid #ff9800;">
                    <h4>‚ö†Ô∏è Metro bundler stuck or not updating</h4>
                    <p><strong>Solutions:</strong></p>
                    <ol>
                        <li>Press <code>r</code> in terminal to reload</li>
                        <li>Shake device and select "Reload"</li>
                        <li>Stop Metro and restart with cache clear:
                            <pre><code># Stop with Ctrl+C, then:
npx expo start -c</code></pre>
                        </li>
                        <li>Clear watchman (if installed):
                            <pre><code>watchman watch-del-all</code></pre>
                        </li>
                    </ol>
                </div>

                <div class="card" style="border-left: 4px solid #ff9800;">
                    <h4>‚ö†Ô∏è "ENOSPC: System limit for number of file watchers reached"</h4>
                    <p><strong>Cause:</strong> Linux/WSL file watcher limit too low</p>
                    <p><strong>Solution:</strong></p>
                    <pre><code># Temporary fix
echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf
sudo sysctl -p

# Or edit /etc/sysctl.conf directly and add:
fs.inotify.max_user_watches=524288</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #ff9800;">
                    <h4>‚ö†Ô∏è Port 8081 already in use</h4>
                    <p><strong>Solutions:</strong></p>
                    <pre><code># Find and kill the process using port 8081
# On macOS/Linux:
lsof -i :8081
kill -9 &lt;PID&gt;

# Or use a different port:
npx expo start --port 8082</code></pre>
                </div>
            </section>

            <!-- Native Dependency Problems -->
            <section id="native-dependencies">
                <h2>Native Dependency Problems</h2>

                <div class="card" style="border-left: 4px solid #9c27b0;">
                    <h4>üîß "Invariant Violation: Native module cannot be null"</h4>
                    <p><strong>Cause:</strong> Native module not linked or app not rebuilt</p>
                    <p><strong>Solutions:</strong></p>
                    <ol>
                        <li>For Expo managed projects, check if the module requires a development build:
                            <pre><code># Create a development build
npx expo install expo-dev-client
npx expo run:ios  # or run:android</code></pre>
                        </li>
                        <li>For bare projects, rebuild:
                            <pre><code># iOS
cd ios &amp;&amp; pod install &amp;&amp; cd ..
npx react-native run-ios

# Android
npx react-native run-android</code></pre>
                        </li>
                    </ol>
                </div>

                <div class="card" style="border-left: 4px solid #9c27b0;">
                    <h4>üîß iOS Pod Install Failures</h4>
                    <p><strong>Common fixes:</strong></p>
                    <pre><code># Update CocoaPods
sudo gem install cocoapods

# Clear pod cache
cd ios
pod cache clean --all
rm -rf Pods Podfile.lock
pod install --repo-update
cd ..</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #9c27b0;">
                    <h4>üîß Android Gradle Build Failures</h4>
                    <p><strong>Common fixes:</strong></p>
                    <pre><code># Clean Gradle cache
cd android
./gradlew clean
cd ..

# Clear Gradle cache completely (more thorough)
rm -rf ~/.gradle/caches/

# Check Java version (React Native requires JDK 17)
java -version</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #9c27b0;">
                    <h4>üîß "Duplicate class" or "Duplicate resources" on Android</h4>
                    <p><strong>Solution:</strong> Add to <code>android/app/build.gradle</code>:</p>
                    <pre><code>android {
    packagingOptions {
        pickFirst 'lib/x86/libc++_shared.so'
        pickFirst 'lib/x86_64/libc++_shared.so'
        pickFirst 'lib/armeabi-v7a/libc++_shared.so'
        pickFirst 'lib/arm64-v8a/libc++_shared.so'
    }
}</code></pre>
                </div>
            </section>

            <!-- Build Errors -->
            <section id="build-errors">
                <h2>Build Errors</h2>

                <div class="card" style="border-left: 4px solid #2196f3;">
                    <h4>üèóÔ∏è EAS Build Failures</h4>
                    <p><strong>Common causes and solutions:</strong></p>
                    <ul>
                        <li><strong>SDK version mismatch:</strong> Ensure all expo packages match your SDK version
                            <pre><code>npx expo install --fix</code></pre>
                        </li>
                        <li><strong>Missing credentials:</strong> Run credentials setup
                            <pre><code>eas credentials</code></pre>
                        </li>
                        <li><strong>Check build logs:</strong> Always read the full error log in the EAS dashboard</li>
                    </ul>
                </div>

                <div class="card" style="border-left: 4px solid #2196f3;">
                    <h4>üèóÔ∏è "SDK version not supported"</h4>
                    <p><strong>Solution:</strong> Update to a supported SDK version:</p>
                    <pre><code># Check current version
grep "expo" package.json

# Upgrade SDK
npx expo install expo@latest

# Fix dependencies
npx expo install --fix</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #2196f3;">
                    <h4>üèóÔ∏è iOS Signing Issues</h4>
                    <p><strong>Solutions:</strong></p>
                    <ul>
                        <li>For development: Use EAS to manage credentials automatically
                            <pre><code>eas build --platform ios --profile development</code></pre>
                        </li>
                        <li>Check Apple Developer account has active membership</li>
                        <li>Ensure correct bundle identifier in app.json</li>
                    </ul>
                </div>
            </section>

            <!-- Runtime Errors -->
            <section id="runtime-errors">
                <h2>Runtime Errors</h2>

                <div class="card" style="border-left: 4px solid #4caf50;">
                    <h4>üîÑ Infinite Re-render Loop</h4>
                    <p><strong>Cause:</strong> State updates in render or missing useEffect dependencies</p>
                    <pre><code>// ‚ùå Wrong - causes infinite loop
function BadComponent() {
  const [count, setCount] = useState(0);
  setCount(count + 1); // Called every render!
  return &lt;Text&gt;{count}&lt;/Text&gt;;
}

// ‚ùå Wrong - effect runs infinitely
useEffect(() =&gt; {
  setData(fetchData());
}); // Missing dependency array!

// ‚úÖ Correct
useEffect(() =&gt; {
  setData(fetchData());
}, []); // Empty array = run once</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #4caf50;">
                    <h4>üîÑ "Can't perform state update on unmounted component"</h4>
                    <p><strong>Cause:</strong> Async operation completing after component unmounts</p>
                    <pre><code>// ‚úÖ Solution with cleanup
useEffect(() =&gt; {
  let isMounted = true;
  
  async function fetchData() {
    const result = await api.getData();
    if (isMounted) {
      setData(result);
    }
  }
  
  fetchData();
  
  return () =&gt; {
    isMounted = false;
  };
}, []);

// ‚úÖ Or use AbortController for fetch
useEffect(() =&gt; {
  const controller = new AbortController();
  
  fetch(url, { signal: controller.signal })
    .then(res =&gt; res.json())
    .then(setData)
    .catch(err =&gt; {
      if (err.name !== 'AbortError') throw err;
    });
  
  return () =&gt; controller.abort();
}, [url]);</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #4caf50;">
                    <h4>üîÑ Navigation: "The action 'NAVIGATE' was not handled"</h4>
                    <p><strong>Cause:</strong> Trying to navigate to a screen that doesn't exist in current navigator</p>
                    <pre><code>// Check that:
// 1. Screen name matches exactly (case-sensitive)
// 2. Screen is defined in the navigator
// 3. You're using the correct navigation method

// For nested navigators:
navigation.navigate('ParentStack', {
  screen: 'ChildScreen',
  params: { id: 123 }
});</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #4caf50;">
                    <h4>üîÑ FlatList: Items not updating</h4>
                    <p><strong>Cause:</strong> FlatList not detecting data changes</p>
                    <pre><code>// ‚ùå Problem: mutating array doesn't trigger update
items.push(newItem);
setItems(items);

// ‚úÖ Solution: create new array reference
setItems([...items, newItem]);

// ‚úÖ Or use extraData prop
&lt;FlatList
  data={items}
  extraData={selectedId} // Re-render when this changes
  renderItem={renderItem}
/&gt;</code></pre>
                </div>
            </section>

            <!-- Expo-Specific Issues -->
            <section id="expo-specific">
                <h2>Expo-Specific Issues</h2>

                <div class="card" style="border-left: 4px solid #000;">
                    <h4>üì± "This app cannot be run in Expo Go"</h4>
                    <p><strong>Cause:</strong> Using a package that requires custom native code</p>
                    <p><strong>Solution:</strong> Create a development build:</p>
                    <pre><code># Install dev client
npx expo install expo-dev-client

# Build for your device
eas build --profile development --platform ios
# or
eas build --profile development --platform android

# Or run locally
npx expo run:ios
npx expo run:android</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #000;">
                    <h4>üì± Expo Go not connecting to development server</h4>
                    <p><strong>Solutions:</strong></p>
                    <ol>
                        <li>Ensure phone and computer are on same WiFi network</li>
                        <li>Try tunnel mode:
                            <pre><code>npx expo start --tunnel</code></pre>
                        </li>
                        <li>Check firewall isn't blocking port 8081</li>
                        <li>Try manual URL entry in Expo Go</li>
                    </ol>
                </div>

                <div class="card" style="border-left: 4px solid #000;">
                    <h4>üì± Assets not loading</h4>
                    <p><strong>Solutions:</strong></p>
                    <pre><code>// Ensure correct path (from project root)
&lt;Image source={require('./assets/image.png')} /&gt;

// For dynamic images, use asset modules
import { Asset } from 'expo-asset';

// Preload assets
await Asset.loadAsync([
  require('./assets/image.png'),
]);</code></pre>
                </div>

                <div class="card" style="border-left: 4px solid #000;">
                    <h4>üì± "Unmatched route"</h4>
                    <p><strong>Cause:</strong> Expo Router can't find the route file</p>
                    <p><strong>Check:</strong></p>
                    <ul>
                        <li>File exists in <code>app/</code> directory</li>
                        <li>File name matches expected route</li>
                        <li>File has a default export</li>
                        <li>No syntax errors in the file</li>
                    </ul>
                </div>
            </section>

            <!-- Debugging Strategies -->
            <section id="debugging-strategies">
                <h2>Debugging Strategies</h2>

                <div class="card">
                    <h4>üîç General Debugging Workflow</h4>
                    <ol>
                        <li><strong>Read the error message carefully</strong> - it often tells you exactly what's wrong</li>
                        <li><strong>Check the component stack</strong> - find which component caused the error</li>
                        <li><strong>Add console.log statements</strong> - track data flow</li>
                        <li><strong>Use React DevTools</strong> - inspect component props and state</li>
                        <li><strong>Check recent changes</strong> - what did you change before it broke?</li>
                        <li><strong>Search the error</strong> - someone else has probably encountered it</li>
                    </ol>
                </div>

                <div class="card">
                    <h4>üîç Using Console Logs Effectively</h4>
                    <pre><code>// Label your logs
console.log('User data:', userData);
console.log('Before API call');
console.log('After API call, response:', response);

// Use console.table for arrays/objects
console.table(items);

// Use console.group for related logs
console.group('Render cycle');
console.log('Props:', props);
console.log('State:', state);
console.groupEnd();

// Trace where something is called from
console.trace('This function was called');</code></pre>
                </div>

                <div class="card">
                    <h4>üîç React DevTools</h4>
                    <p><strong>Setup:</strong></p>
                    <pre><code># Install standalone DevTools
npm install -g react-devtools

# Run DevTools
react-devtools

# Then start your app
npx expo start</code></pre>
                    <p><strong>Features:</strong></p>
                    <ul>
                        <li>Inspect component hierarchy</li>
                        <li>View and edit props/state</li>
                        <li>Track component renders</li>
                        <li>Profile performance</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>üîç Network Debugging</h4>
                    <pre><code>// Add request/response logging
const originalFetch = global.fetch;
global.fetch = async (...args) =&gt; {
  console.log('Fetch request:', args);
  const response = await originalFetch(...args);
  console.log('Fetch response:', response.status);
  return response;
};

// Or use Flipper for comprehensive network debugging</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9;">
                    <h4>‚úÖ Prevention Checklist</h4>
                    <ul>
                        <li>‚òê Use TypeScript for type safety</li>
                        <li>‚òê Add ESLint with React Native rules</li>
                        <li>‚òê Write tests for critical paths</li>
                        <li>‚òê Use optional chaining (?.) for object access</li>
                        <li>‚òê Always handle loading and error states</li>
                        <li>‚òê Keep dependencies updated</li>
                        <li>‚òê Test on both iOS and Android regularly</li>
                    </ul>
                </div>
            </section>

            <!-- Quick Reference -->
            <section id="quick-reference">
                <h2>Quick Reference Commands</h2>
                <div class="card">
                    <h4>üöÄ Common Fix Commands</h4>
                    <pre><code># Clear everything and start fresh
rm -rf node_modules
rm -rf .expo
npm install
npx expo start -c

# iOS specific
cd ios &amp;&amp; pod install --repo-update &amp;&amp; cd ..

# Android specific
cd android &amp;&amp; ./gradlew clean &amp;&amp; cd ..

# Reset Metro bundler
npx expo start -c

# Fix Expo package versions
npx expo install --fix

# Check for issues
npx expo-doctor</code></pre>
                </div>
            </section>

            <div class="lesson-nav">
                <a href="index.html#appendices" class="prev-link">‚Üê Back to Appendices</a>
                <a href="index.html" class="home-link">üè† Home</a>
                <a href="appendix_b_typescript_cheat_sheet.html" class="next-link">Next: TypeScript Cheat Sheet ‚Üí</a>
            </div>
        </div>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2025 React Native & Expo Course. All rights reserved.</p>
        </div>
    </footer>
    <script src="js/clipboard.js"></script>
    <script src="js/course-enhancements.js"></script>
</body>
</html>