<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flexbox in React Native | React Native & Expo Course</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="styles/main.css">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'neutral' });
    </script>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header class="top-nav">
        <div class="nav-container">
            <a href="index.html" class="logo" aria-label="Course Home">
                <span class="logo-react">‚öõÔ∏è</span> RN
            </a>
            <nav class="nav-links" id="nav-links">
                <a href="index.html">Home</a>
                <a href="index.html#modules">Modules</a>
                <a href="appendix_c_component_reference.html">Reference</a>
            </nav>
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <nav class="breadcrumb" aria-label="Breadcrumb">
        <div class="container">
            <a href="index.html">Home</a>
            <span aria-hidden="true">‚Ä∫</span>
            <a href="index.html#module4">Module 4</a>
            <span aria-hidden="true">‚Ä∫</span>
            <span aria-current="page">Flexbox in React Native</span>
        </div>
    </nav>

    <main id="main-content">
        <article class="lesson-container">
            <header class="lesson-header">
                <div class="module-badge">Module 4: StyleSheet Deep Dive</div>
                <h1>Flexbox in React Native</h1>
                <p class="lesson-subtitle">Master the layout system that powers every React Native screen</p>
            </header>

            <details class="toc-container" id="toc">
                <summary>Table of Contents</summary>
                <nav class="toc-nav" aria-label="Table of Contents">
                    <ul>
                        <li><a href="#introduction">Introduction</a></li>
                        <li><a href="#flexbox-fundamentals">Flexbox Fundamentals</a></li>
                        <li><a href="#key-differences">Key Differences from Web</a></li>
                        <li><a href="#main-cross-axis">Main Axis vs Cross Axis</a></li>
                        <li><a href="#flex-property">The flex Property</a></li>
                        <li><a href="#flex-direction">flexDirection</a></li>
                        <li><a href="#justify-content">justifyContent</a></li>
                        <li><a href="#align-items">alignItems</a></li>
                        <li><a href="#align-self">alignSelf</a></li>
                        <li><a href="#flex-wrap">flexWrap and gap</a></li>
                        <li><a href="#nested-flex">Nested Flex Containers</a></li>
                        <li><a href="#common-patterns">Common Layout Patterns</a></li>
                        <li><a href="#hands-on">Hands-On Exercises</a></li>
                        <li><a href="#summary">Summary</a></li>
                    </ul>
                </nav>
            </details>

            <div class="learning-objectives card">
                <h2>üéØ Learning Objectives</h2>
                <ul>
                    <li>Understand why Flexbox is the only layout system in React Native</li>
                    <li>Master the key differences between web and React Native Flexbox</li>
                    <li>Use <code>flex</code>, <code>flexDirection</code>, <code>justifyContent</code>, and <code>alignItems</code> effectively</li>
                    <li>Control individual item alignment with <code>alignSelf</code></li>
                    <li>Build common mobile layout patterns using Flexbox</li>
                    <li>Nest flex containers to create complex layouts</li>
                </ul>
            </div>

            <section id="introduction">
                <h2>Introduction</h2>

                <p>If you've used CSS Flexbox on the web, you're about to feel right at home ‚Äî mostly. Flexbox is the <em>only</em> layout system in React Native. There's no CSS Grid, no floats, no <code>display: block</code> or <code>display: inline</code>. Everything is Flexbox, all the time.</p>

                <p>This constraint is actually liberating. Instead of choosing between layout systems, you become deeply fluent in one powerful tool. And because mobile interfaces are primarily linear flows ‚Äî vertical scrolling lists, horizontal tab bars, stacked form fields ‚Äî Flexbox is perfectly suited for the job.</p>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üé® The Core Principle</h4>
                    <p style="color: white;">Every <code>View</code> in React Native is a flex container by default. You don't need to write <code>display: 'flex'</code> ‚Äî it's automatic. Your job is to configure <em>how</em> that flex container arranges its children.</p>
                </div>

                <p>In the previous lesson, you learned StyleSheet fundamentals. Now we'll focus specifically on the flex-related properties that control layout. By the end of this lesson, you'll be able to build any layout you can imagine using just Flexbox.</p>

                <h3>What We'll Build Understanding Of</h3>

                <p>Think of the screens you use daily on your phone: a chat app with messages stacked vertically, a bottom tab bar with icons spread horizontally, a card with an image on the left and text on the right. Every one of these layouts is Flexbox at work. We'll break down exactly how to create them.</p>
            </section>

            <section id="flexbox-fundamentals">
                <h2>Flexbox Fundamentals</h2>

                <p>Before diving into properties, let's establish the mental model. Flexbox works with two types of elements:</p>

                <ol>
                    <li><strong>Flex Container:</strong> The parent element that holds and arranges children</li>
                    <li><strong>Flex Items:</strong> The children inside the container that get positioned</li>
                </ol>

                <pre class="mermaid">
flowchart TB
    subgraph Container["Flex Container (View)"]
        direction TB
        I1["Flex Item 1"]
        I2["Flex Item 2"]
        I3["Flex Item 3"]
    end
    
    Container -.->|"Controls"| Props["‚Ä¢ flexDirection<br/>‚Ä¢ justifyContent<br/>‚Ä¢ alignItems<br/>‚Ä¢ flexWrap<br/>‚Ä¢ gap"]
    
    I1 -.->|"Can override"| ItemProps["‚Ä¢ flex<br/>‚Ä¢ alignSelf<br/>‚Ä¢ flexGrow<br/>‚Ä¢ flexShrink"]
    
    style Container fill:#e3f2fd
    style Props fill:#fff3e0
    style ItemProps fill:#e8f5e9
                </pre>

                <p>The container controls the <em>overall arrangement</em> of items. Individual items can override certain behaviors for themselves. This two-level system gives you both broad control and fine-grained adjustments.</p>

                <h3>The Default Behavior</h3>

                <p>Let's see what happens with zero styling ‚Äî just Views inside a View:</p>

<pre><code class="language-typescript">import { View, Text, StyleSheet } from 'react-native';

function DefaultFlexDemo() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.box1}&gt;
        &lt;Text style={styles.text}&gt;Box 1&lt;/Text&gt;
      &lt;/View&gt;
      &lt;View style={styles.box2}&gt;
        &lt;Text style={styles.text}&gt;Box 2&lt;/Text&gt;
      &lt;/View&gt;
      &lt;View style={styles.box3}&gt;
        &lt;Text style={styles.text}&gt;Box 3&lt;/Text&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f5f5f5',
    // No flexDirection specified = column (default)
    // No justifyContent specified = flex-start (default)
    // No alignItems specified = stretch (default)
  },
  box1: { height: 80, backgroundColor: '#ef5350' },
  box2: { height: 80, backgroundColor: '#42a5f5' },
  box3: { height: 80, backgroundColor: '#66bb6a' },
  text: { color: 'white', padding: 10, fontWeight: 'bold' },
});</code></pre>

                <p>With these defaults, the boxes stack vertically from top to bottom, each stretching to fill the container's width. This is React Native's default flex behavior.</p>

                <svg viewBox="0 0 300 400" style="width: 100%; max-width: 300px; margin: 20px auto; display: block;">
                    <!-- Phone frame -->
                    <rect x="10" y="10" width="280" height="380" rx="20" fill="#1a1a1a" stroke="#333" stroke-width="2"/>
                    <rect x="20" y="40" width="260" height="330" fill="#f5f5f5"/>
                    
                    <!-- Status bar -->
                    <rect x="20" y="20" width="260" height="20" fill="#1a1a1a"/>
                    <text x="150" y="35" text-anchor="middle" font-size="10" fill="#fff">9:41</text>
                    
                    <!-- Boxes stacked vertically -->
                    <rect x="20" y="40" width="260" height="80" fill="#ef5350"/>
                    <text x="35" y="85" font-size="14" fill="white" font-weight="bold">Box 1</text>
                    
                    <rect x="20" y="120" width="260" height="80" fill="#42a5f5"/>
                    <text x="35" y="165" font-size="14" fill="white" font-weight="bold">Box 2</text>
                    
                    <rect x="20" y="200" width="260" height="80" fill="#66bb6a"/>
                    <text x="35" y="245" font-size="14" fill="white" font-weight="bold">Box 3</text>
                    
                    <!-- Empty space indicator -->
                    <rect x="20" y="280" width="260" height="90" fill="#f5f5f5" stroke="#ddd" stroke-dasharray="5,5"/>
                    <text x="150" y="330" text-anchor="middle" font-size="12" fill="#999">Remaining space</text>
                    
                    <!-- Annotations -->
                    <text x="295" y="135" font-size="10" fill="#666" text-anchor="start">‚Üê stretch</text>
                    <line x1="285" y1="60" x2="285" y2="280" stroke="#666" stroke-dasharray="3,3"/>
                    <text x="295" y="170" font-size="10" fill="#666" text-anchor="start">(full width)</text>
                </svg>
            </section>

            <section id="key-differences">
                <h2>Key Differences from Web</h2>

                <p>If you know CSS Flexbox, you need to internalize these three critical differences:</p>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Difference #1: flexDirection Defaults to 'column'</h4>
                    <p>In CSS, <code>flex-direction</code> defaults to <code>row</code> (horizontal). In React Native, <code>flexDirection</code> defaults to <code>'column'</code> (vertical). This is the most common source of "why doesn't this look right?" confusion.</p>
                </div>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Difference #2: flex Works Differently</h4>
                    <p>In CSS, <code>flex: 1</code> is shorthand for <code>flex-grow: 1; flex-shrink: 1; flex-basis: 0%</code>. In React Native, <code>flex: 1</code> means the item will take up available space proportionally. The behavior is similar but not identical, especially with nested containers.</p>
                </div>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Difference #3: No flex-basis, Use width/height</h4>
                    <p>React Native doesn't support <code>flexBasis</code> in the same way. For initial sizing before flex calculations, use <code>width</code> or <code>height</code> depending on your flex direction.</p>
                </div>

                <h3>Side-by-Side Comparison</h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div class="card" style="margin: 0;">
                        <h4>Web CSS Flexbox</h4>
<pre><code class="language-css">.container {
  display: flex;
  /* Default: flex-direction: row */
  /* Default: align-items: stretch */
}

.item {
  flex: 1;
  /* = flex-grow: 1 */
  /* = flex-shrink: 1 */
  /* = flex-basis: 0% */
}</code></pre>
                    </div>
                    <div class="card" style="margin: 0;">
                        <h4>React Native</h4>
<pre><code class="language-typescript">const styles = StyleSheet.create({
  container: {
    // display: 'flex' is automatic
    // Default: flexDirection: 'column'
    // Default: alignItems: 'stretch'
  },
  item: {
    flex: 1,
    // Takes proportional space
    // along main axis
  },
});</code></pre>
                    </div>
                </div>

                <p>The table below summarizes property names and defaults:</p>

                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <thead>
                        <tr style="background: #e3f2fd;">
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #2196F3;">Property</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #2196F3;">CSS Default</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #2196F3;">RN Default</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><code>flexDirection</code></td>
                            <td style="padding: 12px;"><code>row</code></td>
                            <td style="padding: 12px; background: #fff3e0;"><strong><code>column</code></strong></td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><code>justifyContent</code></td>
                            <td style="padding: 12px;"><code>flex-start</code></td>
                            <td style="padding: 12px;"><code>flex-start</code></td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><code>alignItems</code></td>
                            <td style="padding: 12px;"><code>stretch</code></td>
                            <td style="padding: 12px;"><code>stretch</code></td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><code>flexWrap</code></td>
                            <td style="padding: 12px;"><code>nowrap</code></td>
                            <td style="padding: 12px;"><code>nowrap</code></td>
                        </tr>
                        <tr>
                            <td style="padding: 12px;"><code>alignContent</code></td>
                            <td style="padding: 12px;"><code>stretch</code></td>
                            <td style="padding: 12px;"><code>flex-start</code></td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="main-cross-axis">
                <h2>Main Axis vs Cross Axis</h2>

                <p>Understanding Flexbox requires understanding its two axes. Every flex container has:</p>

                <ul>
                    <li><strong>Main Axis:</strong> The primary direction items flow (set by <code>flexDirection</code>)</li>
                    <li><strong>Cross Axis:</strong> The perpendicular direction</li>
                </ul>

                <p>The axis concept is crucial because different properties control different axes:</p>
                <ul>
                    <li><code>justifyContent</code> ‚Üí controls alignment on the <strong>main axis</strong></li>
                    <li><code>alignItems</code> ‚Üí controls alignment on the <strong>cross axis</strong></li>
                </ul>

                <svg viewBox="0 0 700 350" style="width: 100%; max-width: 700px; margin: 20px auto; display: block;">
                    <!-- Column direction (left side) -->
                    <g transform="translate(0, 0)">
                        <text x="175" y="25" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">flexDirection: 'column'</text>
                        <text x="175" y="45" text-anchor="middle" font-size="12" fill="#666">(React Native default)</text>
                        
                        <!-- Container -->
                        <rect x="50" y="60" width="250" height="270" fill="#f5f5f5" stroke="#ccc" stroke-width="2"/>
                        
                        <!-- Items -->
                        <rect x="70" y="80" width="210" height="50" fill="#42a5f5" rx="4"/>
                        <rect x="70" y="140" width="210" height="50" fill="#66bb6a" rx="4"/>
                        <rect x="70" y="200" width="210" height="50" fill="#ffca28" rx="4"/>
                        
                        <!-- Main axis arrow (vertical) -->
                        <defs>
                            <marker id="arrowhead1" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#e53935"/>
                            </marker>
                        </defs>
                        <line x1="35" y1="70" x2="35" y2="310" stroke="#e53935" stroke-width="3" marker-end="url(#arrowhead1)"/>
                        <text x="25" y="190" font-size="11" fill="#e53935" transform="rotate(-90, 25, 190)">MAIN AXIS</text>
                        
                        <!-- Cross axis arrow (horizontal) -->
                        <defs>
                            <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#1565c0"/>
                            </marker>
                        </defs>
                        <line x1="60" y1="340" x2="290" y2="340" stroke="#1565c0" stroke-width="3" marker-end="url(#arrowhead2)"/>
                        <text x="175" y="355" text-anchor="middle" font-size="11" fill="#1565c0">CROSS AXIS</text>
                    </g>
                    
                    <!-- Row direction (right side) -->
                    <g transform="translate(350, 0)">
                        <text x="175" y="25" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">flexDirection: 'row'</text>
                        <text x="175" y="45" text-anchor="middle" font-size="12" fill="#666">(CSS default)</text>
                        
                        <!-- Container -->
                        <rect x="50" y="60" width="250" height="270" fill="#f5f5f5" stroke="#ccc" stroke-width="2"/>
                        
                        <!-- Items (horizontal) -->
                        <rect x="65" y="80" width="70" height="230" fill="#42a5f5" rx="4"/>
                        <rect x="140" y="80" width="70" height="230" fill="#66bb6a" rx="4"/>
                        <rect x="215" y="80" width="70" height="230" fill="#ffca28" rx="4"/>
                        
                        <!-- Main axis arrow (horizontal) -->
                        <line x1="60" y1="340" x2="290" y2="340" stroke="#e53935" stroke-width="3" marker-end="url(#arrowhead1)"/>
                        <text x="175" y="355" text-anchor="middle" font-size="11" fill="#e53935">MAIN AXIS</text>
                        
                        <!-- Cross axis arrow (vertical) -->
                        <line x1="35" y1="70" x2="35" y2="310" stroke="#1565c0" stroke-width="3" marker-end="url(#arrowhead2)"/>
                        <text x="25" y="190" font-size="11" fill="#1565c0" transform="rotate(-90, 25, 190)">CROSS AXIS</text>
                    </g>
                </svg>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Memory Trick</h4>
                    <p><strong>J</strong>ustifyContent = <strong>J</strong>ourney along main axis (where items travel)<br>
                    <strong>A</strong>lignItems = <strong>A</strong>cross the cross axis (perpendicular)</p>
                </div>

                <p>When <code>flexDirection</code> changes, the axes swap. This is why the same <code>justifyContent: 'center'</code> can center items horizontally in a row or vertically in a column ‚Äî it always works on the main axis, whatever direction that is.</p>
            </section>
            <section id="flex-property">
                <h2>The flex Property</h2>

                <p>The <code>flex</code> property is how items claim space within their container. It's a number that represents the item's share of available space.</p>

                <h3>How flex Works</h3>

<pre><code class="language-typescript">function FlexDemo() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={[styles.box, { flex: 1, backgroundColor: '#ef5350' }]}&gt;
        &lt;Text style={styles.text}&gt;flex: 1&lt;/Text&gt;
      &lt;/View&gt;
      &lt;View style={[styles.box, { flex: 2, backgroundColor: '#42a5f5' }]}&gt;
        &lt;Text style={styles.text}&gt;flex: 2&lt;/Text&gt;
      &lt;/View&gt;
      &lt;View style={[styles.box, { flex: 1, backgroundColor: '#66bb6a' }]}&gt;
        &lt;Text style={styles.text}&gt;flex: 1&lt;/Text&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1, // Container takes full available space
  },
  box: {
    justifyContent: 'center',
    alignItems: 'center',
  },
  text: {
    color: 'white',
    fontWeight: 'bold',
    fontSize: 16,
  },
});</code></pre>

                <p>The total flex is 1 + 2 + 1 = 4 parts. Red gets 1/4, blue gets 2/4 (half), green gets 1/4.</p>

                <svg viewBox="0 0 300 400" style="width: 100%; max-width: 300px; margin: 20px auto; display: block;">
                    <!-- Phone frame -->
                    <rect x="10" y="10" width="280" height="380" rx="20" fill="#1a1a1a"/>
                    <rect x="20" y="40" width="260" height="330" fill="#f5f5f5"/>
                    
                    <!-- flex: 1 (1/4 = 82.5px of 330) -->
                    <rect x="20" y="40" width="260" height="82" fill="#ef5350"/>
                    <text x="150" y="85" text-anchor="middle" font-size="14" fill="white" font-weight="bold">flex: 1</text>
                    <text x="150" y="102" text-anchor="middle" font-size="10" fill="white">(1/4 of space)</text>
                    
                    <!-- flex: 2 (2/4 = 165px) -->
                    <rect x="20" y="122" width="260" height="165" fill="#42a5f5"/>
                    <text x="150" y="200" text-anchor="middle" font-size="14" fill="white" font-weight="bold">flex: 2</text>
                    <text x="150" y="220" text-anchor="middle" font-size="10" fill="white">(2/4 of space)</text>
                    
                    <!-- flex: 1 (1/4 = 82.5px) -->
                    <rect x="20" y="287" width="260" height="83" fill="#66bb6a"/>
                    <text x="150" y="332" text-anchor="middle" font-size="14" fill="white" font-weight="bold">flex: 1</text>
                    <text x="150" y="349" text-anchor="middle" font-size="10" fill="white">(1/4 of space)</text>
                    
                    <!-- Annotations -->
                    <text x="295" y="85" font-size="9" fill="#666">25%</text>
                    <text x="295" y="205" font-size="9" fill="#666">50%</text>
                    <text x="295" y="332" font-size="9" fill="#666">25%</text>
                </svg>

                <h3>flex: 0 vs No flex</h3>

                <p>Understanding what happens without <code>flex</code> is equally important:</p>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  // Takes all available space
  fillSpace: {
    flex: 1,
  },
  
  // Takes only the space its content needs
  fitContent: {
    // No flex property = size to content
  },
  
  // Explicitly zero - same as fitContent but clearer
  noFlex: {
    flex: 0,
  },
  
  // Fixed size, ignores flex
  fixedSize: {
    width: 100,
    height: 100,
  },
});</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Practical Patterns</h4>
                    <ul>
                        <li><code>flex: 1</code> on a container = "fill the entire screen"</li>
                        <li><code>flex: 1</code> on list items = "divide space equally"</li>
                        <li>No <code>flex</code> on buttons = "size to fit the text"</li>
                        <li>Fixed <code>height</code> on headers = "always 60px tall"</li>
                    </ul>
                </div>

                <h3>Common Layout: Header, Content, Footer</h3>

<pre><code class="language-typescript">function ScreenLayout() {
  return (
    &lt;View style={styles.screen}&gt;
      {/* Fixed height header */}
      &lt;View style={styles.header}&gt;
        &lt;Text style={styles.headerText}&gt;Header&lt;/Text&gt;
      &lt;/View&gt;
      
      {/* Flexible content area - takes remaining space */}
      &lt;View style={styles.content}&gt;
        &lt;Text&gt;Content fills remaining space&lt;/Text&gt;
      &lt;/View&gt;
      
      {/* Fixed height footer */}
      &lt;View style={styles.footer}&gt;
        &lt;Text style={styles.footerText}&gt;Footer&lt;/Text&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  screen: {
    flex: 1,  // Fill the whole screen
  },
  header: {
    height: 60,  // Fixed height, no flex
    backgroundColor: '#2196F3',
    justifyContent: 'center',
    paddingHorizontal: 16,
  },
  headerText: {
    color: 'white',
    fontSize: 18,
    fontWeight: 'bold',
  },
  content: {
    flex: 1,  // Takes ALL remaining space
    padding: 16,
  },
  footer: {
    height: 50,  // Fixed height, no flex
    backgroundColor: '#f5f5f5',
    borderTopWidth: 1,
    borderTopColor: '#e0e0e0',
    justifyContent: 'center',
    alignItems: 'center',
  },
  footerText: {
    color: '#666',
  },
});</code></pre>
            </section>

            <section id="flex-direction">
                <h2>flexDirection</h2>

                <p>The <code>flexDirection</code> property sets the main axis direction. It has four possible values:</p>

                <ul>
                    <li><code>'column'</code> ‚Äî Top to bottom (default in React Native)</li>
                    <li><code>'row'</code> ‚Äî Left to right</li>
                    <li><code>'column-reverse'</code> ‚Äî Bottom to top</li>
                    <li><code>'row-reverse'</code> ‚Äî Right to left</li>
                </ul>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  column: {
    flexDirection: 'column',  // ‚Üì Default - items stack vertically
  },
  row: {
    flexDirection: 'row',     // ‚Üí Items line up horizontally
  },
  columnReverse: {
    flexDirection: 'column-reverse',  // ‚Üë Bottom to top
  },
  rowReverse: {
    flexDirection: 'row-reverse',     // ‚Üê Right to left
  },
});</code></pre>

                <svg viewBox="0 0 700 420" style="width: 100%; max-width: 700px; margin: 20px auto; display: block;">
                    <!-- Column -->
                    <g transform="translate(20, 20)">
                        <text x="70" y="0" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">column (default)</text>
                        <rect x="20" y="15" width="100" height="180" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="30" y="25" width="80" height="40" fill="#ef5350" rx="4"/>
                        <text x="70" y="50" text-anchor="middle" font-size="10" fill="white">1</text>
                        <rect x="30" y="75" width="80" height="40" fill="#42a5f5" rx="4"/>
                        <text x="70" y="100" text-anchor="middle" font-size="10" fill="white">2</text>
                        <rect x="30" y="125" width="80" height="40" fill="#66bb6a" rx="4"/>
                        <text x="70" y="150" text-anchor="middle" font-size="10" fill="white">3</text>
                    </g>
                    
                    <!-- Row -->
                    <g transform="translate(180, 20)">
                        <text x="90" y="0" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">row</text>
                        <rect x="20" y="15" width="180" height="100" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="30" y="25" width="45" height="80" fill="#ef5350" rx="4"/>
                        <text x="52" y="70" text-anchor="middle" font-size="10" fill="white">1</text>
                        <rect x="85" y="25" width="45" height="80" fill="#42a5f5" rx="4"/>
                        <text x="107" y="70" text-anchor="middle" font-size="10" fill="white">2</text>
                        <rect x="140" y="25" width="45" height="80" fill="#66bb6a" rx="4"/>
                        <text x="162" y="70" text-anchor="middle" font-size="10" fill="white">3</text>
                    </g>
                    
                    <!-- Column Reverse -->
                    <g transform="translate(400, 20)">
                        <text x="70" y="0" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">column-reverse</text>
                        <rect x="20" y="15" width="100" height="180" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="30" y="25" width="80" height="40" fill="#66bb6a" rx="4"/>
                        <text x="70" y="50" text-anchor="middle" font-size="10" fill="white">3</text>
                        <rect x="30" y="75" width="80" height="40" fill="#42a5f5" rx="4"/>
                        <text x="70" y="100" text-anchor="middle" font-size="10" fill="white">2</text>
                        <rect x="30" y="125" width="80" height="40" fill="#ef5350" rx="4"/>
                        <text x="70" y="150" text-anchor="middle" font-size="10" fill="white">1</text>
                    </g>
                    
                    <!-- Row Reverse -->
                    <g transform="translate(540, 20)">
                        <text x="90" y="0" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">row-reverse</text>
                        <rect x="0" y="15" width="180" height="100" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="10" y="25" width="45" height="80" fill="#66bb6a" rx="4"/>
                        <text x="32" y="70" text-anchor="middle" font-size="10" fill="white">3</text>
                        <rect x="65" y="25" width="45" height="80" fill="#42a5f5" rx="4"/>
                        <text x="87" y="70" text-anchor="middle" font-size="10" fill="white">2</text>
                        <rect x="120" y="25" width="45" height="80" fill="#ef5350" rx="4"/>
                        <text x="142" y="70" text-anchor="middle" font-size="10" fill="white">1</text>
                    </g>
                    
                    <!-- Usage examples -->
                    <g transform="translate(20, 240)">
                        <text x="0" y="0" font-size="13" font-weight="bold" fill="#333">Common Uses:</text>
                        <text x="0" y="25" font-size="11" fill="#666">‚Ä¢ column: Screen layouts, forms, lists</text>
                        <text x="0" y="45" font-size="11" fill="#666">‚Ä¢ row: Tab bars, button groups, cards with image + text</text>
                        <text x="0" y="65" font-size="11" fill="#666">‚Ä¢ column-reverse: Chat messages (newest at bottom)</text>
                        <text x="0" y="85" font-size="11" fill="#666">‚Ä¢ row-reverse: RTL languages, right-aligned action buttons</text>
                    </g>
                </svg>

                <h3>Example: Horizontal Button Group</h3>

<pre><code class="language-typescript">function ButtonGroup() {
  return (
    &lt;View style={styles.buttonGroup}&gt;
      &lt;Pressable style={styles.button}&gt;
        &lt;Text style={styles.buttonText}&gt;Cancel&lt;/Text&gt;
      &lt;/Pressable&gt;
      &lt;Pressable style={[styles.button, styles.primaryButton]}&gt;
        &lt;Text style={[styles.buttonText, styles.primaryText]}&gt;Save&lt;/Text&gt;
      &lt;/Pressable&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  buttonGroup: {
    flexDirection: 'row',  // Buttons side by side
    gap: 12,               // Space between buttons
    padding: 16,
  },
  button: {
    flex: 1,              // Each button takes equal space
    paddingVertical: 12,
    borderRadius: 8,
    backgroundColor: '#e0e0e0',
    alignItems: 'center',
  },
  primaryButton: {
    backgroundColor: '#2196F3',
  },
  buttonText: {
    fontWeight: '600',
    color: '#333',
  },
  primaryText: {
    color: '#fff',
  },
});</code></pre>
            </section>

            <section id="justify-content">
                <h2>justifyContent</h2>

                <p><code>justifyContent</code> controls how items are distributed along the <strong>main axis</strong>. Think of it as answering: "How should I space out my items in the direction they're flowing?"</p>

                <p>The available values are:</p>

                <ul>
                    <li><code>'flex-start'</code> ‚Äî Pack items at the start (default)</li>
                    <li><code>'flex-end'</code> ‚Äî Pack items at the end</li>
                    <li><code>'center'</code> ‚Äî Center items</li>
                    <li><code>'space-between'</code> ‚Äî Equal space between items, none at edges</li>
                    <li><code>'space-around'</code> ‚Äî Equal space around items (half space at edges)</li>
                    <li><code>'space-evenly'</code> ‚Äî Equal space between and at edges</li>
                </ul>

                <svg viewBox="0 0 750 500" style="width: 100%; max-width: 750px; margin: 20px auto; display: block;">
                    <!-- flex-start -->
                    <g transform="translate(20, 20)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">flex-start (default)</text>
                        <rect x="0" y="15" width="200" height="60" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="10" y="25" width="40" height="40" fill="#42a5f5" rx="4"/>
                        <rect x="55" y="25" width="40" height="40" fill="#66bb6a" rx="4"/>
                        <rect x="100" y="25" width="40" height="40" fill="#ffca28" rx="4"/>
                    </g>
                    
                    <!-- flex-end -->
                    <g transform="translate(260, 20)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">flex-end</text>
                        <rect x="0" y="15" width="200" height="60" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="60" y="25" width="40" height="40" fill="#42a5f5" rx="4"/>
                        <rect x="105" y="25" width="40" height="40" fill="#66bb6a" rx="4"/>
                        <rect x="150" y="25" width="40" height="40" fill="#ffca28" rx="4"/>
                    </g>
                    
                    <!-- center -->
                    <g transform="translate(500, 20)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">center</text>
                        <rect x="0" y="15" width="200" height="60" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="35" y="25" width="40" height="40" fill="#42a5f5" rx="4"/>
                        <rect x="80" y="25" width="40" height="40" fill="#66bb6a" rx="4"/>
                        <rect x="125" y="25" width="40" height="40" fill="#ffca28" rx="4"/>
                    </g>
                    
                    <!-- space-between -->
                    <g transform="translate(20, 120)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">space-between</text>
                        <rect x="0" y="15" width="200" height="60" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="5" y="25" width="40" height="40" fill="#42a5f5" rx="4"/>
                        <rect x="80" y="25" width="40" height="40" fill="#66bb6a" rx="4"/>
                        <rect x="155" y="25" width="40" height="40" fill="#ffca28" rx="4"/>
                        <!-- Space indicators -->
                        <line x1="45" y1="80" x2="80" y2="80" stroke="#999" stroke-dasharray="3,2"/>
                        <line x1="120" y1="80" x2="155" y2="80" stroke="#999" stroke-dasharray="3,2"/>
                    </g>
                    
                    <!-- space-around -->
                    <g transform="translate(260, 120)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">space-around</text>
                        <rect x="0" y="15" width="200" height="60" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="17" y="25" width="40" height="40" fill="#42a5f5" rx="4"/>
                        <rect x="80" y="25" width="40" height="40" fill="#66bb6a" rx="4"/>
                        <rect x="143" y="25" width="40" height="40" fill="#ffca28" rx="4"/>
                        <!-- Half space at edges -->
                        <text x="8" y="95" font-size="8" fill="#999">¬Ω</text>
                        <text x="190" y="95" font-size="8" fill="#999">¬Ω</text>
                    </g>
                    
                    <!-- space-evenly -->
                    <g transform="translate(500, 120)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">space-evenly</text>
                        <rect x="0" y="15" width="200" height="60" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="20" y="25" width="40" height="40" fill="#42a5f5" rx="4"/>
                        <rect x="80" y="25" width="40" height="40" fill="#66bb6a" rx="4"/>
                        <rect x="140" y="25" width="40" height="40" fill="#ffca28" rx="4"/>
                        <!-- Equal space indicators -->
                        <line x1="0" y1="85" x2="20" y2="85" stroke="#4CAF50" stroke-width="2"/>
                        <line x1="60" y1="85" x2="80" y2="85" stroke="#4CAF50" stroke-width="2"/>
                        <line x1="120" y1="85" x2="140" y2="85" stroke="#4CAF50" stroke-width="2"/>
                        <line x1="180" y1="85" x2="200" y2="85" stroke="#4CAF50" stroke-width="2"/>
                    </g>
                    
                    <!-- Code examples -->
                    <g transform="translate(20, 230)">
                        <text x="0" y="0" font-size="13" font-weight="bold" fill="#333">When to Use Each:</text>
                        <text x="0" y="25" font-size="11" fill="#666">‚Ä¢ flex-start: Default lists, forms, stacked content</text>
                        <text x="0" y="45" font-size="11" fill="#666">‚Ä¢ flex-end: Right-align buttons, bottom-align content</text>
                        <text x="0" y="65" font-size="11" fill="#666">‚Ä¢ center: Centering a modal, loading spinner, empty states</text>
                        <text x="0" y="85" font-size="11" fill="#666">‚Ä¢ space-between: Tab bars, navigation with logo left & icons right</text>
                        <text x="0" y="105" font-size="11" fill="#666">‚Ä¢ space-around: Icon grids, evenly distributed options</text>
                        <text x="0" y="125" font-size="11" fill="#666">‚Ä¢ space-evenly: Perfect equal spacing in all gaps</text>
                    </g>
                </svg>

                <h3>Example: Tab Bar with space-between</h3>

<pre><code class="language-typescript">function TabBar() {
  return (
    &lt;View style={styles.tabBar}&gt;
      &lt;Pressable style={styles.tab}&gt;
        &lt;Text&gt;üè†&lt;/Text&gt;
        &lt;Text style={styles.tabLabel}&gt;Home&lt;/Text&gt;
      &lt;/Pressable&gt;
      &lt;Pressable style={styles.tab}&gt;
        &lt;Text&gt;üîç&lt;/Text&gt;
        &lt;Text style={styles.tabLabel}&gt;Search&lt;/Text&gt;
      &lt;/Pressable&gt;
      &lt;Pressable style={styles.tab}&gt;
        &lt;Text&gt;‚ù§Ô∏è&lt;/Text&gt;
        &lt;Text style={styles.tabLabel}&gt;Favorites&lt;/Text&gt;
      &lt;/Pressable&gt;
      &lt;Pressable style={styles.tab}&gt;
        &lt;Text&gt;üë§&lt;/Text&gt;
        &lt;Text style={styles.tabLabel}&gt;Profile&lt;/Text&gt;
      &lt;/Pressable&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  tabBar: {
    flexDirection: 'row',
    justifyContent: 'space-around', // Even spacing for tabs
    paddingVertical: 10,
    backgroundColor: '#fff',
    borderTopWidth: 1,
    borderTopColor: '#e0e0e0',
  },
  tab: {
    alignItems: 'center',
  },
  tabLabel: {
    fontSize: 12,
    marginTop: 4,
    color: '#666',
  },
});</code></pre>
            </section>

            <section id="align-items">
                <h2>alignItems</h2>

                <p><code>alignItems</code> controls how items are aligned along the <strong>cross axis</strong>. Think of it as answering: "How should items be positioned perpendicular to the main flow?"</p>

                <p>The available values are:</p>

                <ul>
                    <li><code>'stretch'</code> ‚Äî Items stretch to fill the cross axis (default)</li>
                    <li><code>'flex-start'</code> ‚Äî Items align to the start of cross axis</li>
                    <li><code>'flex-end'</code> ‚Äî Items align to the end of cross axis</li>
                    <li><code>'center'</code> ‚Äî Items center on the cross axis</li>
                    <li><code>'baseline'</code> ‚Äî Items align by their text baselines</li>
                </ul>

                <svg viewBox="0 0 750 380" style="width: 100%; max-width: 750px; margin: 20px auto; display: block;">
                    <!-- All examples use flexDirection: 'row' to make cross axis vertical -->
                    
                    <!-- stretch -->
                    <g transform="translate(20, 20)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">stretch (default)</text>
                        <rect x="0" y="15" width="200" height="100" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="10" y="20" width="50" height="90" fill="#42a5f5" rx="4"/>
                        <rect x="70" y="20" width="50" height="90" fill="#66bb6a" rx="4"/>
                        <rect x="130" y="20" width="50" height="90" fill="#ffca28" rx="4"/>
                        <text x="100" y="130" text-anchor="middle" font-size="9" fill="#666">Items stretch to fill height</text>
                    </g>
                    
                    <!-- flex-start -->
                    <g transform="translate(260, 20)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">flex-start</text>
                        <rect x="0" y="15" width="200" height="100" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="10" y="20" width="50" height="30" fill="#42a5f5" rx="4"/>
                        <rect x="70" y="20" width="50" height="50" fill="#66bb6a" rx="4"/>
                        <rect x="130" y="20" width="50" height="40" fill="#ffca28" rx="4"/>
                        <text x="100" y="130" text-anchor="middle" font-size="9" fill="#666">Items align to top</text>
                    </g>
                    
                    <!-- flex-end -->
                    <g transform="translate(500, 20)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">flex-end</text>
                        <rect x="0" y="15" width="200" height="100" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="10" y="80" width="50" height="30" fill="#42a5f5" rx="4"/>
                        <rect x="70" y="60" width="50" height="50" fill="#66bb6a" rx="4"/>
                        <rect x="130" y="70" width="50" height="40" fill="#ffca28" rx="4"/>
                        <text x="100" y="130" text-anchor="middle" font-size="9" fill="#666">Items align to bottom</text>
                    </g>
                    
                    <!-- center -->
                    <g transform="translate(20, 170)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">center</text>
                        <rect x="0" y="15" width="200" height="100" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="10" y="50" width="50" height="30" fill="#42a5f5" rx="4"/>
                        <rect x="70" y="40" width="50" height="50" fill="#66bb6a" rx="4"/>
                        <rect x="130" y="45" width="50" height="40" fill="#ffca28" rx="4"/>
                        <text x="100" y="130" text-anchor="middle" font-size="9" fill="#666">Items vertically centered</text>
                    </g>
                    
                    <!-- baseline -->
                    <g transform="translate(260, 170)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">baseline</text>
                        <rect x="0" y="15" width="200" height="100" fill="#f5f5f5" stroke="#ccc"/>
                        <!-- Different sized text boxes aligned by baseline -->
                        <rect x="10" y="35" width="50" height="50" fill="#42a5f5" rx="4"/>
                        <text x="35" y="70" text-anchor="middle" font-size="18" fill="white">A</text>
                        <rect x="70" y="20" width="50" height="70" fill="#66bb6a" rx="4"/>
                        <text x="95" y="70" text-anchor="middle" font-size="24" fill="white">B</text>
                        <rect x="130" y="45" width="50" height="40" fill="#ffca28" rx="4"/>
                        <text x="155" y="70" text-anchor="middle" font-size="14" fill="white">C</text>
                        <!-- Baseline indicator -->
                        <line x1="5" y1="70" x2="195" y2="70" stroke="#e53935" stroke-dasharray="4,2"/>
                        <text x="100" y="130" text-anchor="middle" font-size="9" fill="#666">Text baselines align</text>
                    </g>
                    
                    <!-- Center + Center example -->
                    <g transform="translate(500, 170)">
                        <text x="100" y="0" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">Perfect Centering</text>
                        <rect x="0" y="15" width="200" height="100" fill="#f5f5f5" stroke="#ccc"/>
                        <rect x="75" y="42" width="50" height="50" fill="#9c27b0" rx="4"/>
                        <text x="100" y="75" text-anchor="middle" font-size="18" fill="white">‚úì</text>
                        <text x="100" y="130" text-anchor="middle" font-size="9" fill="#666">justifyContent + alignItems: 'center'</text>
                    </g>
                </svg>

                <h3>The Perfect Center</h3>

                <p>One of the most common needs is centering something both horizontally and vertically. Use both properties together:</p>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  // Center anything perfectly in its container
  perfectCenter: {
    flex: 1,
    justifyContent: 'center',  // Center on main axis
    alignItems: 'center',      // Center on cross axis
  },
});

// Usage: Loading screen
function LoadingScreen() {
  return (
    &lt;View style={styles.perfectCenter}&gt;
      &lt;ActivityIndicator size="large" color="#2196F3" /&gt;
      &lt;Text style={{ marginTop: 16 }}&gt;Loading...&lt;/Text&gt;
    &lt;/View&gt;
  );
}</code></pre>

                <h3>Example: Card with Image and Text</h3>

<pre><code class="language-typescript">function ProductCard({ image, title, price }) {
  return (
    &lt;View style={styles.card}&gt;
      &lt;Image source={{ uri: image }} style={styles.image} /&gt;
      &lt;View style={styles.details}&gt;
        &lt;Text style={styles.title}&gt;{title}&lt;/Text&gt;
        &lt;Text style={styles.price}&gt;{price}&lt;/Text&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  card: {
    flexDirection: 'row',    // Image and details side by side
    alignItems: 'center',    // Vertically center the content
    backgroundColor: '#fff',
    borderRadius: 12,
    padding: 12,
    // Shadow
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
    elevation: 3,
  },
  image: {
    width: 80,
    height: 80,
    borderRadius: 8,
  },
  details: {
    flex: 1,        // Take remaining horizontal space
    marginLeft: 12,
  },
  title: {
    fontSize: 16,
    fontWeight: '600',
    color: '#1a1a1a',
  },
  price: {
    fontSize: 14,
    color: '#4CAF50',
    marginTop: 4,
  },
});</code></pre>
            </section>
            <section id="align-self">
                <h2>alignSelf</h2>

                <p>While <code>alignItems</code> is set on the container and affects all children, <code>alignSelf</code> is set on individual items to override their container's alignment.</p>

                <p>The values are the same as <code>alignItems</code>, plus <code>'auto'</code> (use parent's alignItems):</p>

                <ul>
                    <li><code>'auto'</code> ‚Äî Use parent's alignItems (default)</li>
                    <li><code>'flex-start'</code> ‚Äî Align self to start</li>
                    <li><code>'flex-end'</code> ‚Äî Align self to end</li>
                    <li><code>'center'</code> ‚Äî Center self</li>
                    <li><code>'stretch'</code> ‚Äî Stretch self</li>
                    <li><code>'baseline'</code> ‚Äî Align to baseline</li>
                </ul>

<pre><code class="language-typescript">function AlignSelfDemo() {
  return (
    &lt;View style={styles.container}&gt;
      {/* Default - follows container's alignItems */}
      &lt;View style={[styles.box, styles.box1]}&gt;
        &lt;Text style={styles.text}&gt;auto&lt;/Text&gt;
      &lt;/View&gt;
      
      {/* Override - align to start */}
      &lt;View style={[styles.box, styles.box2, { alignSelf: 'flex-start' }]}&gt;
        &lt;Text style={styles.text}&gt;flex-start&lt;/Text&gt;
      &lt;/View&gt;
      
      {/* Override - center */}
      &lt;View style={[styles.box, styles.box3, { alignSelf: 'center' }]}&gt;
        &lt;Text style={styles.text}&gt;center&lt;/Text&gt;
      &lt;/View&gt;
      
      {/* Override - align to end */}
      &lt;View style={[styles.box, styles.box4, { alignSelf: 'flex-end' }]}&gt;
        &lt;Text style={styles.text}&gt;flex-end&lt;/Text&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    // Default alignItems is stretch, but items override it
  },
  box: {
    padding: 16,
    marginVertical: 8,
  },
  box1: { backgroundColor: '#ef5350' },
  box2: { backgroundColor: '#42a5f5' },
  box3: { backgroundColor: '#66bb6a' },
  box4: { backgroundColor: '#ffca28' },
  text: { color: 'white', fontWeight: 'bold' },
});</code></pre>

                <svg viewBox="0 0 350 350" style="width: 100%; max-width: 350px; margin: 20px auto; display: block;">
                    <!-- Container -->
                    <rect x="20" y="20" width="300" height="300" fill="#f5f5f5" stroke="#ccc" stroke-width="2"/>
                    
                    <!-- Box 1: stretch (default) - full width -->
                    <rect x="30" y="35" width="280" height="50" fill="#ef5350" rx="4"/>
                    <text x="170" y="65" text-anchor="middle" font-size="12" fill="white" font-weight="bold">auto (stretch)</text>
                    
                    <!-- Box 2: flex-start - left aligned, fit content -->
                    <rect x="30" y="95" width="100" height="50" fill="#42a5f5" rx="4"/>
                    <text x="80" y="125" text-anchor="middle" font-size="12" fill="white" font-weight="bold">flex-start</text>
                    
                    <!-- Box 3: center - center aligned -->
                    <rect x="120" y="155" width="100" height="50" fill="#66bb6a" rx="4"/>
                    <text x="170" y="185" text-anchor="middle" font-size="12" fill="white" font-weight="bold">center</text>
                    
                    <!-- Box 4: flex-end - right aligned -->
                    <rect x="210" y="215" width="100" height="50" fill="#ffca28" rx="4"/>
                    <text x="260" y="245" text-anchor="middle" font-size="12" fill="white" font-weight="bold">flex-end</text>
                    
                    <!-- Annotations -->
                    <line x1="30" y1="285" x2="310" y2="285" stroke="#999" stroke-dasharray="4,2"/>
                    <text x="170" y="305" text-anchor="middle" font-size="10" fill="#666">Container width</text>
                </svg>

                <h3>Practical Use: Centering One Item</h3>

<pre><code class="language-typescript">function MessageBubble({ text, isOwn }) {
  return (
    &lt;View 
      style={[
        styles.bubble,
        // Own messages align right, others align left
        { alignSelf: isOwn ? 'flex-end' : 'flex-start' },
        isOwn ? styles.ownBubble : styles.otherBubble,
      ]}
    &gt;
      &lt;Text style={[styles.text, isOwn && styles.ownText]}&gt;{text}&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  bubble: {
    maxWidth: '75%',
    padding: 12,
    borderRadius: 16,
    marginVertical: 4,
  },
  ownBubble: {
    backgroundColor: '#2196F3',
    borderBottomRightRadius: 4,
  },
  otherBubble: {
    backgroundColor: '#e0e0e0',
    borderBottomLeftRadius: 4,
  },
  text: {
    fontSize: 16,
  },
  ownText: {
    color: 'white',
  },
});</code></pre>
            </section>

            <section id="flex-wrap">
                <h2>flexWrap and gap</h2>

                <p>By default, flex items try to fit on one line. The <code>flexWrap</code> property controls what happens when items don't fit:</p>

                <ul>
                    <li><code>'nowrap'</code> ‚Äî All items on one line, may overflow (default)</li>
                    <li><code>'wrap'</code> ‚Äî Items wrap to next line when needed</li>
                    <li><code>'wrap-reverse'</code> ‚Äî Items wrap in reverse order</li>
                </ul>

<pre><code class="language-typescript">function TagCloud({ tags }) {
  return (
    &lt;View style={styles.container}&gt;
      {tags.map((tag, index) =&gt; (
        &lt;View key={index} style={styles.tag}&gt;
          &lt;Text style={styles.tagText}&gt;{tag}&lt;/Text&gt;
        &lt;/View&gt;
      ))}
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flexDirection: 'row',
    flexWrap: 'wrap',    // Allow tags to wrap to next line
    gap: 8,              // Space between tags
  },
  tag: {
    backgroundColor: '#e3f2fd',
    paddingHorizontal: 12,
    paddingVertical: 6,
    borderRadius: 16,
  },
  tagText: {
    color: '#1976D2',
    fontSize: 14,
  },
});</code></pre>

                <svg viewBox="0 0 400 200" style="width: 100%; max-width: 400px; margin: 20px auto; display: block;">
                    <!-- Container -->
                    <rect x="20" y="20" width="360" height="160" fill="#f5f5f5" stroke="#ccc" stroke-width="2"/>
                    
                    <!-- Row 1 -->
                    <rect x="35" y="35" width="80" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="75" y="55" text-anchor="middle" font-size="11" fill="#1976D2">React</text>
                    
                    <rect x="125" y="35" width="100" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="175" y="55" text-anchor="middle" font-size="11" fill="#1976D2">TypeScript</text>
                    
                    <rect x="235" y="35" width="60" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="265" y="55" text-anchor="middle" font-size="11" fill="#1976D2">Expo</text>
                    
                    <rect x="305" y="35" width="60" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="335" y="55" text-anchor="middle" font-size="11" fill="#1976D2">iOS</text>
                    
                    <!-- Row 2 (wrapped) -->
                    <rect x="35" y="75" width="80" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="75" y="95" text-anchor="middle" font-size="11" fill="#1976D2">Android</text>
                    
                    <rect x="125" y="75" width="80" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="165" y="95" text-anchor="middle" font-size="11" fill="#1976D2">Flexbox</text>
                    
                    <rect x="215" y="75" width="100" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="265" y="95" text-anchor="middle" font-size="11" fill="#1976D2">StyleSheet</text>
                    
                    <!-- Row 3 -->
                    <rect x="35" y="115" width="100" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="85" y="135" text-anchor="middle" font-size="11" fill="#1976D2">Navigation</text>
                    
                    <rect x="145" y="115" width="90" height="30" fill="#e3f2fd" rx="15" stroke="#2196F3"/>
                    <text x="190" y="135" text-anchor="middle" font-size="11" fill="#1976D2">Animation</text>
                    
                    <!-- Annotation -->
                    <text x="200" y="175" text-anchor="middle" font-size="10" fill="#666">flexWrap: 'wrap' + gap: 8</text>
                </svg>

                <h3>The gap Property</h3>

                <p>The <code>gap</code> property adds consistent spacing between flex items. It's cleaner than using margin on each item:</p>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  // Using gap (cleaner)
  withGap: {
    flexDirection: 'row',
    gap: 16,  // 16dp between all items
  },
  
  // Specific gap directions
  specificGaps: {
    flexDirection: 'row',
    flexWrap: 'wrap',
    rowGap: 16,     // Vertical gap between rows
    columnGap: 8,   // Horizontal gap between columns
  },
  
  // Old way (using margins) - messier
  oldWay: {
    flexDirection: 'row',
  },
  oldWayItem: {
    marginRight: 16,  // But last item has extra margin!
  },
});</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Use gap Instead of Margins</h4>
                    <p><code>gap</code> only creates space <em>between</em> items, not on the outer edges. This eliminates the classic problem of "extra margin on the last item" that you'd get with <code>marginRight</code> on each item.</p>
                </div>
            </section>

            <section id="nested-flex">
                <h2>Nested Flex Containers</h2>

                <p>Real layouts aren't flat ‚Äî they're hierarchies of flex containers. Each <code>View</code> can be both a flex item (child) and a flex container (parent).</p>

                <pre class="mermaid">
flowchart TB
    subgraph Screen["Screen (flex: 1, column)"]
        direction TB
        subgraph Header["Header (row)"]
            Logo["Logo"]
            NavItems["Nav Items"]
        end
        subgraph Content["Content (flex: 1, column)"]
            subgraph Card["Card (row)"]
                CardImage["Image"]
                CardText["Text Stack"]
            end
        end
        subgraph Footer["Footer (row, space-between)"]
            Copyright["¬©"]
            Links["Links"]
        end
    end
    
    style Screen fill:#e3f2fd
    style Header fill:#fff3e0
    style Content fill:#e8f5e9
    style Footer fill:#fce4ec
    style Card fill:#f3e5f5
                </pre>

                <h3>Example: Complete Screen Layout</h3>

<pre><code class="language-typescript">function ProfileScreen() {
  return (
    &lt;View style={styles.screen}&gt;
      {/* Header Row */}
      &lt;View style={styles.header}&gt;
        &lt;Pressable&gt;
          &lt;Text style={styles.backButton}&gt;‚Üê Back&lt;/Text&gt;
        &lt;/Pressable&gt;
        &lt;Text style={styles.headerTitle}&gt;Profile&lt;/Text&gt;
        &lt;Pressable&gt;
          &lt;Text style={styles.editButton}&gt;Edit&lt;/Text&gt;
        &lt;/Pressable&gt;
      &lt;/View&gt;

      {/* Main Content - Scrollable */}
      &lt;ScrollView style={styles.content}&gt;
        {/* Profile Card */}
        &lt;View style={styles.profileCard}&gt;
          &lt;Image source={{ uri: '...' }} style={styles.avatar} /&gt;
          &lt;View style={styles.profileInfo}&gt;
            &lt;Text style={styles.name}&gt;Jane Developer&lt;/Text&gt;
            &lt;Text style={styles.role}&gt;React Native Engineer&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/View&gt;

        {/* Stats Row */}
        &lt;View style={styles.statsRow}&gt;
          &lt;View style={styles.stat}&gt;
            &lt;Text style={styles.statNumber}&gt;142&lt;/Text&gt;
            &lt;Text style={styles.statLabel}&gt;Projects&lt;/Text&gt;
          &lt;/View&gt;
          &lt;View style={styles.stat}&gt;
            &lt;Text style={styles.statNumber}&gt;8.5k&lt;/Text&gt;
            &lt;Text style={styles.statLabel}&gt;Followers&lt;/Text&gt;
          &lt;/View&gt;
          &lt;View style={styles.stat}&gt;
            &lt;Text style={styles.statNumber}&gt;284&lt;/Text&gt;
            &lt;Text style={styles.statLabel}&gt;Following&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/ScrollView&gt;

      {/* Bottom Tab Bar */}
      &lt;View style={styles.tabBar}&gt;
        &lt;Pressable style={styles.tab}&gt;
          &lt;Text&gt;üè†&lt;/Text&gt;
        &lt;/Pressable&gt;
        &lt;Pressable style={styles.tab}&gt;
          &lt;Text&gt;üîç&lt;/Text&gt;
        &lt;/Pressable&gt;
        &lt;Pressable style={[styles.tab, styles.activeTab]}&gt;
          &lt;Text&gt;üë§&lt;/Text&gt;
        &lt;/Pressable&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  // Screen container
  screen: {
    flex: 1,
    backgroundColor: '#f5f5f5',
  },

  // Header (horizontal)
  header: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    paddingHorizontal: 16,
    paddingVertical: 12,
    backgroundColor: '#fff',
    borderBottomWidth: 1,
    borderBottomColor: '#e0e0e0',
  },
  backButton: { color: '#2196F3', fontSize: 16 },
  headerTitle: { fontSize: 18, fontWeight: '600' },
  editButton: { color: '#2196F3', fontSize: 16 },

  // Main content
  content: {
    flex: 1,
    padding: 16,
  },

  // Profile card (horizontal)
  profileCard: {
    flexDirection: 'row',
    alignItems: 'center',
    backgroundColor: '#fff',
    padding: 16,
    borderRadius: 12,
    marginBottom: 16,
  },
  avatar: {
    width: 80,
    height: 80,
    borderRadius: 40,
  },
  profileInfo: {
    marginLeft: 16,
    flex: 1,
  },
  name: { fontSize: 20, fontWeight: 'bold' },
  role: { fontSize: 14, color: '#666', marginTop: 4 },

  // Stats row (horizontal, evenly spaced)
  statsRow: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    backgroundColor: '#fff',
    padding: 16,
    borderRadius: 12,
  },
  stat: {
    alignItems: 'center',
  },
  statNumber: { fontSize: 24, fontWeight: 'bold' },
  statLabel: { fontSize: 12, color: '#666', marginTop: 4 },

  // Tab bar (horizontal, evenly spaced)
  tabBar: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    paddingVertical: 12,
    backgroundColor: '#fff',
    borderTopWidth: 1,
    borderTopColor: '#e0e0e0',
  },
  tab: {
    padding: 8,
  },
  activeTab: {
    backgroundColor: '#e3f2fd',
    borderRadius: 8,
  },
});</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Nesting Strategy</h4>
                    <p>Think in terms of "boxes within boxes." Start with the outermost container (usually <code>flex: 1</code> for the screen), then identify horizontal vs vertical sections at each level. Add flex properties as needed to distribute space.</p>
                </div>
            </section>

            <section id="common-patterns">
                <h2>Common Layout Patterns</h2>

                <p>Here are the flex configurations you'll use repeatedly in mobile apps:</p>

                <h3>Pattern 1: Full Screen with Fixed Header/Footer</h3>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  screen: { flex: 1 },
  header: { height: 60 },         // Fixed
  content: { flex: 1 },           // Fills remaining space
  footer: { height: 50 },         // Fixed
});</code></pre>

                <h3>Pattern 2: Horizontal Row with Push</h3>

<pre><code class="language-typescript">// Logo left, buttons right
const styles = StyleSheet.create({
  row: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  logo: {
    // No flex - size to content
  },
  spacer: {
    flex: 1,  // Pushes everything after it to the right
  },
  buttons: {
    flexDirection: 'row',
    gap: 8,
  },
});

// &lt;View style={styles.row}&gt;
//   &lt;Logo /&gt;
//   &lt;View style={styles.spacer} /&gt;
//   &lt;View style={styles.buttons}&gt;...&lt;/View&gt;
// &lt;/View&gt;</code></pre>

                <h3>Pattern 3: Equal Width Columns</h3>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  row: {
    flexDirection: 'row',
    gap: 12,
  },
  column: {
    flex: 1,  // Each column gets equal width
  },
});</code></pre>

                <h3>Pattern 4: Card with Image Left, Content Right</h3>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  card: {
    flexDirection: 'row',
    alignItems: 'center',    // Vertically center
    padding: 12,
  },
  image: {
    width: 60,
    height: 60,
  },
  content: {
    flex: 1,                 // Take remaining width
    marginLeft: 12,
  },
});</code></pre>

                <h3>Pattern 5: Centered Modal</h3>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  overlay: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: 'rgba(0,0,0,0.5)',
  },
  modal: {
    width: '80%',
    backgroundColor: '#fff',
    borderRadius: 12,
    padding: 20,
  },
});</code></pre>

                <h3>Pattern 6: Grid of Items</h3>

<pre><code class="language-typescript">const styles = StyleSheet.create({
  grid: {
    flexDirection: 'row',
    flexWrap: 'wrap',
    gap: 12,
  },
  gridItem: {
    width: '48%',  // ~2 columns with gap
    // Or for 3 columns:
    // width: '31%',
    aspectRatio: 1,
    backgroundColor: '#f0f0f0',
    borderRadius: 8,
  },
});</code></pre>
            </section>

            <section id="hands-on">
                <h2>Hands-On Exercises</h2>

                <p>Practice these exercises to solidify your Flexbox skills.</p>

                <div class="exercise-container">
                    <h3>Exercise 1: Build a Navigation Header</h3>
                    <p>Create a header with a back button on the left, title in the center, and a settings icon on the right.</p>

                    <details>
                        <summary>Show Solution</summary>
<pre><code class="language-typescript">function Header({ title }) {
  return (
    &lt;View style={styles.header}&gt;
      &lt;Pressable style={styles.iconButton}&gt;
        &lt;Text style={styles.icon}&gt;‚Üê&lt;/Text&gt;
      &lt;/Pressable&gt;
      
      &lt;Text style={styles.title}&gt;{title}&lt;/Text&gt;
      
      &lt;Pressable style={styles.iconButton}&gt;
        &lt;Text style={styles.icon}&gt;‚öôÔ∏è&lt;/Text&gt;
      &lt;/Pressable&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  header: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    height: 56,
    paddingHorizontal: 16,
    backgroundColor: '#fff',
    borderBottomWidth: 1,
    borderBottomColor: '#e0e0e0',
  },
  iconButton: {
    width: 40,
    height: 40,
    justifyContent: 'center',
    alignItems: 'center',
  },
  icon: {
    fontSize: 20,
  },
  title: {
    fontSize: 18,
    fontWeight: '600',
    flex: 1,
    textAlign: 'center',
  },
});</code></pre>
                        <p><strong>Key insight:</strong> <code>justifyContent: 'space-between'</code> pushes the buttons to edges, but <code>flex: 1</code> on the title with <code>textAlign: 'center'</code> ensures the title stays centered even if button widths differ.</p>
                    </details>
                </div>

                <div class="exercise-container">
                    <h3>Exercise 2: Create a Two-Column Stats Display</h3>
                    <p>Build a row showing two statistics with equal widths, each displaying a number and label.</p>

                    <details>
                        <summary>Show Solution</summary>
<pre><code class="language-typescript">function StatsDisplay({ stats }) {
  return (
    &lt;View style={styles.statsContainer}&gt;
      {stats.map((stat, index) =&gt; (
        &lt;View key={index} style={styles.statBox}&gt;
          &lt;Text style={styles.statValue}&gt;{stat.value}&lt;/Text&gt;
          &lt;Text style={styles.statLabel}&gt;{stat.label}&lt;/Text&gt;
        &lt;/View&gt;
      ))}
    &lt;/View&gt;
  );
}

// Usage: &lt;StatsDisplay stats={[{ value: '1.2k', label: 'Followers' }, { value: '342', label: 'Following' }]} /&gt;

const styles = StyleSheet.create({
  statsContainer: {
    flexDirection: 'row',
    gap: 16,
  },
  statBox: {
    flex: 1,               // Equal widths
    backgroundColor: '#f5f5f5',
    padding: 16,
    borderRadius: 12,
    alignItems: 'center',  // Center content horizontally
  },
  statValue: {
    fontSize: 24,
    fontWeight: 'bold',
    color: '#1a1a1a',
  },
  statLabel: {
    fontSize: 14,
    color: '#666',
    marginTop: 4,
  },
});</code></pre>
                    </details>
                </div>

                <div class="exercise-container">
                    <h3>Exercise 3: Build a Chat Message Layout</h3>
                    <p>Create a chat bubble that aligns left for received messages and right for sent messages. Include timestamp below the bubble.</p>

                    <details>
                        <summary>Show Solution</summary>
<pre><code class="language-typescript">interface MessageProps {
  text: string;
  time: string;
  isOwn: boolean;
}

function ChatMessage({ text, time, isOwn }: MessageProps) {
  return (
    &lt;View style={[
      styles.messageContainer,
      { alignItems: isOwn ? 'flex-end' : 'flex-start' }
    ]}&gt;
      &lt;View style={[
        styles.bubble,
        isOwn ? styles.ownBubble : styles.otherBubble,
      ]}&gt;
        &lt;Text style={[
          styles.messageText,
          isOwn && styles.ownText,
        ]}&gt;
          {text}
        &lt;/Text&gt;
      &lt;/View&gt;
      &lt;Text style={styles.timestamp}&gt;{time}&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  messageContainer: {
    marginVertical: 4,
    paddingHorizontal: 12,
  },
  bubble: {
    maxWidth: '75%',
    padding: 12,
    borderRadius: 16,
  },
  ownBubble: {
    backgroundColor: '#2196F3',
    borderBottomRightRadius: 4,
  },
  otherBubble: {
    backgroundColor: '#e8e8e8',
    borderBottomLeftRadius: 4,
  },
  messageText: {
    fontSize: 16,
    color: '#1a1a1a',
  },
  ownText: {
    color: '#fff',
  },
  timestamp: {
    fontSize: 11,
    color: '#999',
    marginTop: 4,
  },
});</code></pre>
                        <p><strong>Key insight:</strong> The container uses <code>alignItems</code> to push the bubble and timestamp together to the appropriate side, while the bubble uses <code>maxWidth: '75%'</code> to prevent overly long messages.</p>
                    </details>
                </div>
            </section>

            <section id="summary">
                <h2>Summary</h2>

                <p>You've now mastered Flexbox in React Native ‚Äî the single most important layout skill you'll use every day.</p>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üéØ Key Takeaways</h4>
                    <ul style="color: white;">
                        <li><strong>Every View is a flex container</strong> ‚Äî no need for <code>display: 'flex'</code></li>
                        <li><strong>flexDirection defaults to 'column'</strong> ‚Äî unlike CSS which defaults to 'row'</li>
                        <li><strong>justifyContent</strong> controls main axis alignment</li>
                        <li><strong>alignItems</strong> controls cross axis alignment</li>
                        <li><strong>flex: 1</strong> makes items fill available space proportionally</li>
                        <li><strong>gap</strong> is cleaner than margins for spacing</li>
                        <li><strong>Nest containers</strong> to build complex layouts</li>
                    </ul>
                </div>

                <h3>Quick Reference Cheat Sheet</h3>

<pre><code class="language-typescript">// Flexbox Cheat Sheet
const flexPatterns = StyleSheet.create({
  // Fill screen
  fillScreen: { flex: 1 },
  
  // Horizontal row
  row: { flexDirection: 'row' },
  
  // Center everything
  centerAll: { justifyContent: 'center', alignItems: 'center' },
  
  // Space items evenly
  spaceEvenly: { justifyContent: 'space-between' },
  
  // Equal width columns
  equalColumns: { flex: 1 },
  
  // Wrap items
  wrap: { flexDirection: 'row', flexWrap: 'wrap', gap: 8 },
  
  // Push item to end
  pushRight: { marginLeft: 'auto' }, // or use flex: 1 spacer
});

// Remember:
// - flexDirection: 'column' is DEFAULT (not 'row')
// - Main axis = direction of flow
// - Cross axis = perpendicular
// - justifyContent ‚Üí main axis
// - alignItems ‚Üí cross axis
// - alignSelf ‚Üí override for single item</code></pre>

                <h3>Coming Up Next</h3>

                <p>In the next lesson, we'll explore <strong>Common Layout Patterns</strong> where we'll build complete, reusable layout components for headers, cards, forms, lists, and more. You'll see how Flexbox combines with other StyleSheet properties to create polished, production-ready interfaces.</p>
            </section>

            <nav class="lesson-nav">
                <a href="m04_l01_stylesheet_fundamentals.html" class="prev-link">‚Üê Previous: StyleSheet Fundamentals</a>
                <a href="index.html" class="home-link">Course Home</a>
                <a href="m04_l03_common_layout_patterns.html" class="next-link">Next: Common Layout Patterns ‚Üí</a>
            </nav>
        </article>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>React Native & Expo Course ¬© 2025</p>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const toggle = document.getElementById('mobile-menu-toggle');
        const navLinks = document.getElementById('nav-links');
        
        toggle?.addEventListener('click', () => {
            const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
            toggle.setAttribute('aria-expanded', !isExpanded);
            navLinks?.classList.toggle('active');
        });

        // TOC smooth scrolling
        document.querySelectorAll('.toc-nav a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').slice(1);
                const target = document.getElementById(targetId);
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                    const toc = document.getElementById('toc');
                    if (toc && window.innerWidth < 768) {
                        toc.removeAttribute('open');
                    }
                }
            });
        });
    </script>
</body>
</html>
