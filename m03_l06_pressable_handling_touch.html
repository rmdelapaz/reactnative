<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn how to use Pressable, the modern touch handler in React Native, including press states, visual feedback, and hitSlop">
    <meta name="author" content="React Native Course">
    <title>Pressable: Handling Touch - React Native & Expo Course</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#e3f2fd',
                primaryTextColor: '#1565c0',
                primaryBorderColor: '#1976d2',
                lineColor: '#64b5f6'
            }
        });
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">üì± RN & Expo Course</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">
                ‚ò∞
            </button>
            <div class="nav-links" id="nav-links">
                <a href="index.html">Home</a>
                <a href="index.html#modules">Modules</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#modules">Module 3</a></li>
            <li aria-current="page">Lesson 3.6: Pressable ‚Äî Handling Touch</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <div class="container">
            <!-- Lesson Header -->
            <header>
                <h1>üëÜ Pressable: Handling Touch</h1>
                <p class="lead" style="text-align: center; font-size: 1.1rem; margin-bottom: 2rem;">
                    The modern, flexible way to make anything touchable in React Native
                </p>
                
                <!-- Learning objectives -->
                <div class="card">
                    <h2>üéØ Learning Objectives</h2>
                    <p>By the end of this lesson, you will be able to:</p>
                    <ul>
                        <li>Understand why Pressable is the recommended touch handler</li>
                        <li>Use all press states: onPressIn, onPressOut, onPress, and onLongPress</li>
                        <li>Create dynamic visual feedback using the style function</li>
                        <li>Improve touch targets with hitSlop and pressRetentionOffset</li>
                        <li>Migrate from legacy touchable components to Pressable</li>
                        <li>Build accessible, responsive touch interactions</li>
                    </ul>
                    <p><strong>‚è±Ô∏è Estimated Time:</strong> 25-35 minutes</p>
                </div>
            </header>

            <!-- Table of Contents -->
            <details class="card" open style="position: sticky; top: 80px; z-index: 100; background: var(--secondary-color); box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <summary style="cursor: pointer; font-weight: bold; padding: 0.5rem 1rem; user-select: none;">
                    üìë In This Lesson
                </summary>
                <nav aria-label="Table of Contents" style="padding: 0 1rem 1rem 1rem;">
                    <ol>
                        <li><a href="#introduction">Introduction to Pressable</a></li>
                        <li><a href="#press-states">Understanding Press States</a></li>
                        <li><a href="#visual-feedback">Visual Feedback with Style Function</a></li>
                        <li><a href="#hitslop">HitSlop and Touch Targets</a></li>
                        <li><a href="#vs-legacy">Pressable vs Legacy Touchables</a></li>
                        <li><a href="#exercises">Hands-On Exercises</a></li>
                        <li><a href="#summary">Summary</a></li>
                    </ol>
                </nav>
            </details>

            <!-- Section 1: Introduction to Pressable -->
            <section id="introduction" class="lesson-section">
                <h2>Introduction to Pressable</h2>
                
                <p>In mobile apps, touch is the primary way users interact with your interface. Unlike web browsers where we have <code>onClick</code>, mobile touch interactions are richer and more nuanced. React Native's <code>Pressable</code> component is the modern, recommended way to handle all touch interactions.</p>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4 style="color: white;">üìñ What is Pressable?</h4>
                    <p style="color: white;"><strong>Pressable</strong> is a core React Native component that detects touch interactions on its children. It provides detailed information about the press lifecycle and allows you to create rich, responsive touch feedback.</p>
                </div>

                <h3>Web vs Native Touch</h3>

                <p>Coming from web development, you might be used to simple click handlers. Mobile touch is different:</p>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div class="card">
                        <h4>üåê Web Click</h4>
                        <ul>
                            <li>Single event: <code>onClick</code></li>
                            <li>Binary state: clicked or not</li>
                            <li>Hover state available</li>
                            <li>Mouse precision</li>
                        </ul>
                    </div>
                    <div class="card" style="background: #e3f2fd;">
                        <h4>üì± Mobile Touch</h4>
                        <ul>
                            <li>Multiple events: press in, out, press, long press</li>
                            <li>Rich state: pressing, pressed, released</li>
                            <li>No hover (touch required)</li>
                            <li>Finger imprecision (need larger targets)</li>
                        </ul>
                    </div>
                </div>

                <h3>Basic Pressable Usage</h3>

                <pre><code class="language-tsx">import { Pressable, Text, StyleSheet } from 'react-native';

function MyButton() {
  return (
    &lt;Pressable 
      onPress={() => console.log('Button pressed!')}
      style={styles.button}
    &gt;
      &lt;Text style={styles.buttonText}&gt;Press Me&lt;/Text&gt;
    &lt;/Pressable&gt;
  );
}

const styles = StyleSheet.create({
  button: {
    backgroundColor: '#2196F3',
    paddingVertical: 12,
    paddingHorizontal: 24,
    borderRadius: 8,
    alignItems: 'center',
  },
  buttonText: {
    color: 'white',
    fontSize: 16,
    fontWeight: 'bold',
  },
});</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Pressable is the Future</h4>
                    <p>React Native introduced <code>Pressable</code> in version 0.63 as a replacement for <code>TouchableOpacity</code>, <code>TouchableHighlight</code>, <code>TouchableWithoutFeedback</code>, and <code>TouchableNativeFeedback</code>. While those still work, <code>Pressable</code> is more flexible and is the recommended approach.</p>
                </div>

                <h3>What Can Be Pressable?</h3>

                <p>Anything! Unlike buttons, Pressable wraps any content you want to make touchable:</p>

                <pre><code class="language-tsx">// A pressable card
&lt;Pressable onPress={() => navigateToDetails(item.id)}&gt;
  &lt;View style={styles.card}&gt;
    &lt;Image source={{ uri: item.image }} style={styles.cardImage} /&gt;
    &lt;Text style={styles.cardTitle}&gt;{item.title}&lt;/Text&gt;
  &lt;/View&gt;
&lt;/Pressable&gt;

// A pressable icon
&lt;Pressable onPress={() => toggleFavorite()}&gt;
  &lt;Text style={styles.icon}&gt;{isFavorite ? '‚ù§Ô∏è' : 'ü§ç'}&lt;/Text&gt;
&lt;/Pressable&gt;

// A pressable list item
&lt;Pressable onPress={() => selectItem(item)}&gt;
  &lt;View style={styles.listItem}&gt;
    &lt;Text&gt;{item.name}&lt;/Text&gt;
    &lt;Text style={styles.arrow}&gt;‚Üí&lt;/Text&gt;
  &lt;/View&gt;
&lt;/Pressable&gt;</code></pre>

            </section>

            <!-- Section 2: Understanding Press States -->
            <section id="press-states" class="lesson-section">
                <h2>Understanding Press States</h2>

                <p>One of Pressable's key features is exposing the full touch lifecycle through multiple callbacks. Understanding these states is crucial for creating polished, responsive interactions.</p>

                <!-- SVG: Touch lifecycle visualization -->
                <svg viewBox="0 0 700 200" style="width: 100%; max-width: 700px; margin: 2rem auto; display: block;">
                    <!-- Background -->
                    <rect x="0" y="0" width="700" height="200" fill="#f8f9fa" rx="10"/>
                    
                    <!-- Title -->
                    <text x="350" y="25" text-anchor="middle" font-weight="bold" font-size="14" fill="#333">Touch Lifecycle</text>
                    
                    <!-- Timeline -->
                    <line x1="50" y1="100" x2="650" y2="100" stroke="#ccc" stroke-width="2"/>
                    
                    <!-- Finger down -->
                    <g transform="translate(100, 60)">
                        <circle cx="0" cy="40" r="25" fill="#4CAF50"/>
                        <text x="0" y="45" text-anchor="middle" font-size="20" fill="white">üëá</text>
                        <text x="0" y="80" text-anchor="middle" font-size="11" fill="#333" font-weight="bold">onPressIn</text>
                        <text x="0" y="95" text-anchor="middle" font-size="9" fill="#666">Finger touches</text>
                    </g>
                    
                    <!-- Still pressing (optional long press) -->
                    <g transform="translate(280, 60)">
                        <circle cx="0" cy="40" r="25" fill="#FF9800"/>
                        <text x="0" y="45" text-anchor="middle" font-size="20" fill="white">‚è±Ô∏è</text>
                        <text x="0" y="80" text-anchor="middle" font-size="11" fill="#333" font-weight="bold">onLongPress</text>
                        <text x="0" y="95" text-anchor="middle" font-size="9" fill="#666">500ms+ hold</text>
                    </g>
                    
                    <!-- Finger up -->
                    <g transform="translate(460, 60)">
                        <circle cx="0" cy="40" r="25" fill="#f44336"/>
                        <text x="0" y="45" text-anchor="middle" font-size="20" fill="white">üëÜ</text>
                        <text x="0" y="80" text-anchor="middle" font-size="11" fill="#333" font-weight="bold">onPressOut</text>
                        <text x="0" y="95" text-anchor="middle" font-size="9" fill="#666">Finger lifts</text>
                    </g>
                    
                    <!-- Press complete -->
                    <g transform="translate(600, 60)">
                        <circle cx="0" cy="40" r="25" fill="#2196F3"/>
                        <text x="0" y="45" text-anchor="middle" font-size="20" fill="white">‚úì</text>
                        <text x="0" y="80" text-anchor="middle" font-size="11" fill="#333" font-weight="bold">onPress</text>
                        <text x="0" y="95" text-anchor="middle" font-size="9" fill="#666">After release</text>
                    </g>
                    
                    <!-- Arrows -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
                        </marker>
                    </defs>
                    <line x1="125" y1="100" x2="245" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="305" y1="100" x2="425" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="485" y1="100" x2="565" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- Notes -->
                    <text x="185" y="175" text-anchor="middle" font-size="9" fill="#999">optional</text>
                </svg>
                <p class="caption"><em>The four press callbacks in order of the touch lifecycle</em></p>

                <h3>The Four Press Callbacks</h3>

                <table>
                    <thead>
                        <tr>
                            <th>Callback</th>
                            <th>When Fired</th>
                            <th>Common Use</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>onPressIn</code></td>
                            <td>Finger touches the element</td>
                            <td>Start visual feedback, animations</td>
                        </tr>
                        <tr>
                            <td><code>onPressOut</code></td>
                            <td>Finger lifts or leaves element</td>
                            <td>End visual feedback, animations</td>
                        </tr>
                        <tr>
                            <td><code>onPress</code></td>
                            <td>After onPressOut (complete press)</td>
                            <td>Primary action (navigate, submit)</td>
                        </tr>
                        <tr>
                            <td><code>onLongPress</code></td>
                            <td>After holding ~500ms</td>
                            <td>Secondary action (context menu)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Using All Press States</h3>

                <pre><code class="language-tsx">import { Pressable, Text, View, StyleSheet } from 'react-native';
import { useState } from 'react';

function PressStateDemo() {
  const [log, setLog] = useState&lt;string[]&gt;([]);
  
  const addLog = (event: string) => {
    setLog(prev => [...prev.slice(-4), `${new Date().toLocaleTimeString()}: ${event}`]);
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;Pressable
        onPressIn={() => addLog('üëá onPressIn')}
        onPressOut={() => addLog('üëÜ onPressOut')}
        onPress={() => addLog('‚úì onPress')}
        onLongPress={() => addLog('‚è±Ô∏è onLongPress')}
        style={styles.button}
      &gt;
        &lt;Text style={styles.buttonText}&gt;Press & Hold Me&lt;/Text&gt;
      &lt;/Pressable&gt;
      
      &lt;View style={styles.logContainer}&gt;
        {log.map((entry, index) => (
          &lt;Text key={index} style={styles.logEntry}&gt;{entry}&lt;/Text&gt;
        ))}
      &lt;/View&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    padding: 20,
  },
  button: {
    backgroundColor: '#667eea',
    padding: 20,
    borderRadius: 12,
    alignItems: 'center',
  },
  buttonText: {
    color: 'white',
    fontSize: 18,
    fontWeight: 'bold',
  },
  logContainer: {
    marginTop: 20,
    padding: 16,
    backgroundColor: '#f5f5f5',
    borderRadius: 8,
    minHeight: 150,
  },
  logEntry: {
    fontFamily: 'monospace',
    fontSize: 12,
    marginVertical: 2,
  },
});</code></pre>

                <h3>Event Sequence Examples</h3>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div class="card">
                        <h4>Quick Tap</h4>
                        <ol>
                            <li><code>onPressIn</code> ‚Äî finger down</li>
                            <li><code>onPressOut</code> ‚Äî finger up</li>
                            <li><code>onPress</code> ‚Äî action triggered</li>
                        </ol>
                    </div>
                    <div class="card">
                        <h4>Long Press</h4>
                        <ol>
                            <li><code>onPressIn</code> ‚Äî finger down</li>
                            <li><code>onLongPress</code> ‚Äî after 500ms</li>
                            <li><code>onPressOut</code> ‚Äî finger up</li>
                            <li><code>onPress</code> ‚Äî (if not cancelled)</li>
                        </ol>
                    </div>
                    <div class="card">
                        <h4>Press & Slide Away</h4>
                        <ol>
                            <li><code>onPressIn</code> ‚Äî finger down</li>
                            <li><code>onPressOut</code> ‚Äî finger left area</li>
                            <li><em>No onPress!</em> ‚Äî cancelled</li>
                        </ol>
                    </div>
                </div>

                <h3>Customizing Long Press Duration</h3>

                <pre><code class="language-tsx">// Default is 500ms
&lt;Pressable
  onLongPress={() => showContextMenu()}
  delayLongPress={300}  // Trigger after 300ms instead
&gt;

// Different delays for different interactions
&lt;Pressable
  onLongPress={() => enterEditMode()}
  delayLongPress={1000}  // Require full second hold
&gt;</code></pre>

                <h3>Preventing onPress After Long Press</h3>

                <p>Sometimes you want long press to be the only action, without triggering the regular press:</p>

                <pre><code class="language-tsx">import { useState, useRef } from 'react';

function LongPressOnly() {
  const didLongPress = useRef(false);

  const handleLongPress = () => {
    didLongPress.current = true;
    showContextMenu();
  };

  const handlePress = () => {
    if (didLongPress.current) {
      didLongPress.current = false;
      return;  // Don't trigger regular press
    }
    navigateToItem();
  };

  const handlePressIn = () => {
    didLongPress.current = false;
  };

  return (
    &lt;Pressable
      onPressIn={handlePressIn}
      onPress={handlePress}
      onLongPress={handleLongPress}
    &gt;
      &lt;Text&gt;Tap to open, hold for options&lt;/Text&gt;
    &lt;/Pressable&gt;
  );
}</code></pre>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Order Matters</h4>
                    <p><code>onPress</code> fires <em>after</em> <code>onPressOut</code>, even for long presses. If you need to prevent <code>onPress</code> after a long press, you need to track it manually as shown above.</p>
                </div>

                <!-- Mermaid: State diagram -->
                <h3>Press State Machine</h3>

                <pre class="mermaid">
stateDiagram-v2
    [*] --> Idle
    Idle --> Pressed: onPressIn<br/>(finger down)
    Pressed --> Idle: onPressOut + onPress<br/>(quick tap)
    Pressed --> LongPressed: 500ms elapsed<br/>(onLongPress)
    LongPressed --> Idle: onPressOut<br/>(finger up)
    Pressed --> Cancelled: finger slides away<br/>(onPressOut only)
    Cancelled --> Idle
    
    note right of Pressed: Visual feedback active
    note right of LongPressed: Long press action triggered
    note right of Cancelled: No onPress fires
                </pre>
                <p class="caption"><em>State transitions during touch interaction</em></p>

            </section>
            <!-- Section 3: Visual Feedback with Style Function -->
            <section id="visual-feedback" class="lesson-section">
                <h2>Visual Feedback with Style Function</h2>

                <p>Users need immediate feedback when they touch something. Without it, the app feels broken or slow. Pressable's killer feature is the ability to pass a <em>function</em> to the <code>style</code> prop that receives the current press state.</p>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4 style="color: white;">üí° Key Insight</h4>
                    <p style="color: white;">Unlike static styles, Pressable accepts a <strong>style function</strong> that receives <code>{ pressed }</code> and returns styles. This lets you create dynamic visual feedback without managing state yourself.</p>
                </div>

                <h3>The Style Function Pattern</h3>

                <pre><code class="language-tsx">import { Pressable, Text, StyleSheet } from 'react-native';

function DynamicButton() {
  return (
    &lt;Pressable
      onPress={() => console.log('Pressed!')}
      style={({ pressed }) => [
        styles.button,
        pressed && styles.buttonPressed
      ]}
    &gt;
      {({ pressed }) => (
        &lt;Text style={[
          styles.buttonText,
          pressed && styles.buttonTextPressed
        ]}&gt;
          {pressed ? 'Pressing...' : 'Press Me'}
        &lt;/Text&gt;
      )}
    &lt;/Pressable&gt;
  );
}

const styles = StyleSheet.create({
  button: {
    backgroundColor: '#2196F3',
    paddingVertical: 14,
    paddingHorizontal: 28,
    borderRadius: 10,
    alignItems: 'center',
  },
  buttonPressed: {
    backgroundColor: '#1976D2',
    transform: [{ scale: 0.98 }],
  },
  buttonText: {
    color: 'white',
    fontSize: 16,
    fontWeight: 'bold',
  },
  buttonTextPressed: {
    opacity: 0.8,
  },
});</code></pre>

                <h3>Understanding the Pressed State</h3>

                <pre><code class="language-tsx">// Style prop can be:
// 1. A static style object
&lt;Pressable style={styles.button}&gt;

// 2. An array of styles
&lt;Pressable style={[styles.button, styles.primaryButton]}&gt;

// 3. A function that returns styles
&lt;Pressable style={({ pressed }) => ({
  backgroundColor: pressed ? '#1976D2' : '#2196F3',
  opacity: pressed ? 0.8 : 1,
})}&gt;

// 4. A function that returns an array
&lt;Pressable style={({ pressed }) => [
  styles.button,
  pressed && styles.pressed,
  disabled && styles.disabled,
]}&gt;</code></pre>

                <!-- SVG: Visual feedback examples -->
                <svg viewBox="0 0 700 180" style="width: 100%; max-width: 700px; margin: 2rem auto; display: block;">
                    <!-- Background -->
                    <rect x="0" y="0" width="700" height="180" fill="#f8f9fa" rx="10"/>
                    
                    <!-- Title -->
                    <text x="350" y="25" text-anchor="middle" font-weight="bold" font-size="14" fill="#333">Common Visual Feedback Patterns</text>
                    
                    <!-- Opacity -->
                    <g transform="translate(50, 50)">
                        <text x="60" y="0" text-anchor="middle" font-size="11" fill="#666">Opacity</text>
                        <rect x="0" y="15" width="120" height="50" rx="8" fill="#2196F3"/>
                        <text x="60" y="47" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Normal</text>
                        <rect x="0" y="80" width="120" height="50" rx="8" fill="#2196F3" opacity="0.7"/>
                        <text x="60" y="112" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Pressed</text>
                    </g>
                    
                    <!-- Color Change -->
                    <g transform="translate(200, 50)">
                        <text x="60" y="0" text-anchor="middle" font-size="11" fill="#666">Color</text>
                        <rect x="0" y="15" width="120" height="50" rx="8" fill="#2196F3"/>
                        <text x="60" y="47" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Normal</text>
                        <rect x="0" y="80" width="120" height="50" rx="8" fill="#1565C0"/>
                        <text x="60" y="112" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Pressed</text>
                    </g>
                    
                    <!-- Scale -->
                    <g transform="translate(350, 50)">
                        <text x="60" y="0" text-anchor="middle" font-size="11" fill="#666">Scale</text>
                        <rect x="0" y="15" width="120" height="50" rx="8" fill="#2196F3"/>
                        <text x="60" y="47" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Normal</text>
                        <rect x="3" y="83" width="114" height="47" rx="8" fill="#2196F3"/>
                        <text x="60" y="112" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Pressed</text>
                    </g>
                    
                    <!-- Shadow/Elevation -->
                    <g transform="translate(500, 50)">
                        <text x="60" y="0" text-anchor="middle" font-size="11" fill="#666">Shadow</text>
                        <rect x="4" y="19" width="120" height="50" rx="8" fill="rgba(0,0,0,0.2)"/>
                        <rect x="0" y="15" width="120" height="50" rx="8" fill="#2196F3"/>
                        <text x="60" y="47" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Normal</text>
                        <rect x="2" y="82" width="120" height="50" rx="8" fill="rgba(0,0,0,0.1)"/>
                        <rect x="0" y="80" width="120" height="50" rx="8" fill="#2196F3"/>
                        <text x="60" y="112" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Pressed</text>
                    </g>
                </svg>
                <p class="caption"><em>Different visual feedback techniques: opacity, color, scale, and shadow changes</em></p>

                <h3>Practical Feedback Examples</h3>

                <pre><code class="language-tsx">// Opacity fade (most common)
&lt;Pressable
  style={({ pressed }) => ({
    opacity: pressed ? 0.7 : 1,
  })}
&gt;

// Scale down effect
&lt;Pressable
  style={({ pressed }) => ({
    transform: [{ scale: pressed ? 0.96 : 1 }],
  })}
&gt;

// Background color change
&lt;Pressable
  style={({ pressed }) => ({
    backgroundColor: pressed ? '#1565C0' : '#2196F3',
  })}
&gt;

// Combination (professional feel)
&lt;Pressable
  style={({ pressed }) => [
    styles.button,
    {
      backgroundColor: pressed ? '#1565C0' : '#2196F3',
      transform: [{ scale: pressed ? 0.98 : 1 }],
      shadowOpacity: pressed ? 0.1 : 0.3,
    }
  ]}
&gt;</code></pre>

                <h3>Children as a Function</h3>

                <p>Just like the style prop, children can be a function too:</p>

                <pre><code class="language-tsx">import { Pressable, Text, View, StyleSheet } from 'react-native';

function InteractiveCard() {
  return (
    &lt;Pressable
      onPress={() => console.log('Card pressed')}
      style={({ pressed }) => [
        styles.card,
        pressed && styles.cardPressed
      ]}
    &gt;
      {({ pressed }) => (
        &lt;View&gt;
          &lt;Text style={styles.cardTitle}&gt;
            {pressed ? '‚úì Selected' : 'Tap to Select'}
          &lt;/Text&gt;
          &lt;Text style={[
            styles.cardSubtitle,
            pressed && { color: '#1565C0' }
          ]}&gt;
            {pressed ? 'Release to confirm' : 'Press and hold for options'}
          &lt;/Text&gt;
        &lt;/View&gt;
      )}
    &lt;/Pressable&gt;
  );
}

const styles = StyleSheet.create({
  card: {
    backgroundColor: 'white',
    padding: 20,
    borderRadius: 12,
    borderWidth: 2,
    borderColor: '#e0e0e0',
  },
  cardPressed: {
    borderColor: '#2196F3',
    backgroundColor: '#e3f2fd',
  },
  cardTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    marginBottom: 4,
  },
  cardSubtitle: {
    fontSize: 14,
    color: '#666',
  },
});</code></pre>

                <h3>Creating Reusable Button Components</h3>

                <pre><code class="language-tsx">import { Pressable, Text, StyleSheet, ViewStyle, TextStyle } from 'react-native';

interface ButtonProps {
  title: string;
  onPress: () => void;
  variant?: 'primary' | 'secondary' | 'danger';
  disabled?: boolean;
}

function Button({ title, onPress, variant = 'primary', disabled = false }: ButtonProps) {
  const getBackgroundColor = (pressed: boolean) => {
    if (disabled) return '#ccc';
    
    const colors = {
      primary: { normal: '#2196F3', pressed: '#1976D2' },
      secondary: { normal: '#757575', pressed: '#616161' },
      danger: { normal: '#f44336', pressed: '#d32f2f' },
    };
    
    return pressed ? colors[variant].pressed : colors[variant].normal;
  };

  return (
    &lt;Pressable
      onPress={onPress}
      disabled={disabled}
      style={({ pressed }) => [
        styles.button,
        {
          backgroundColor: getBackgroundColor(pressed),
          opacity: disabled ? 0.6 : 1,
          transform: [{ scale: pressed && !disabled ? 0.98 : 1 }],
        }
      ]}
    &gt;
      &lt;Text style={styles.buttonText}&gt;{title}&lt;/Text&gt;
    &lt;/Pressable&gt;
  );
}

const styles = StyleSheet.create({
  button: {
    paddingVertical: 14,
    paddingHorizontal: 24,
    borderRadius: 8,
    alignItems: 'center',
    justifyContent: 'center',
  },
  buttonText: {
    color: 'white',
    fontSize: 16,
    fontWeight: '600',
  },
});

// Usage:
// &lt;Button title="Save" onPress={handleSave} variant="primary" /&gt;
// &lt;Button title="Cancel" onPress={handleCancel} variant="secondary" /&gt;
// &lt;Button title="Delete" onPress={handleDelete} variant="danger" /&gt;</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Pro Tip: Consistent Feedback</h4>
                    <p>Create a reusable button component (like above) that handles all your press feedback consistently. This ensures every button in your app feels the same, which users find reassuring.</p>
                </div>

            </section>

            <!-- Section 4: HitSlop and Touch Targets -->
            <section id="hitslop" class="lesson-section">
                <h2>HitSlop and Touch Targets</h2>

                <p>Fingers are imprecise. Apple's Human Interface Guidelines recommend touch targets of at least 44√ó44 points. But sometimes you can't make the visual element that large. Enter <code>hitSlop</code>.</p>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4 style="color: white;">üìñ What is HitSlop?</h4>
                    <p style="color: white;"><strong>hitSlop</strong> extends the touchable area beyond the visible bounds of a component. The user can touch outside the visible element and still trigger the press. This is invisible to users but makes small elements much easier to tap.</p>
                </div>

                <!-- SVG: HitSlop visualization -->
                <svg viewBox="0 0 700 250" style="width: 100%; max-width: 700px; margin: 2rem auto; display: block;">
                    <!-- Background -->
                    <rect x="0" y="0" width="700" height="250" fill="#f8f9fa" rx="10"/>
                    
                    <!-- Title -->
                    <text x="350" y="25" text-anchor="middle" font-weight="bold" font-size="14" fill="#333">HitSlop Extends Touch Area</text>
                    
                    <!-- Without hitSlop -->
                    <g transform="translate(150, 60)">
                        <text x="50" y="0" text-anchor="middle" font-size="12" fill="#666">Without hitSlop</text>
                        
                        <!-- Visual element -->
                        <rect x="25" y="50" width="50" height="50" rx="8" fill="#2196F3"/>
                        <text x="50" y="80" text-anchor="middle" font-size="24" fill="white">√ó</text>
                        
                        <!-- Touch area (same as visual) -->
                        <rect x="25" y="50" width="50" height="50" rx="8" fill="none" stroke="#f44336" stroke-width="2" stroke-dasharray="4"/>
                        
                        <!-- Label -->
                        <text x="50" y="125" text-anchor="middle" font-size="10" fill="#666">Touch area = visual</text>
                        <text x="50" y="140" text-anchor="middle" font-size="10" fill="#f44336">50√ó50px (too small!)</text>
                        
                        <!-- Miss indicator -->
                        <circle cx="10" cy="75" r="12" fill="#ffcdd2" stroke="#f44336" stroke-width="2"/>
                        <text x="10" y="79" text-anchor="middle" font-size="10" fill="#f44336">miss</text>
                    </g>
                    
                    <!-- With hitSlop -->
                    <g transform="translate(450, 60)">
                        <text x="50" y="0" text-anchor="middle" font-size="12" fill="#666">With hitSlop={20}</text>
                        
                        <!-- Extended touch area -->
                        <rect x="5" y="30" width="90" height="90" rx="12" fill="#c8e6c9" opacity="0.5"/>
                        <rect x="5" y="30" width="90" height="90" rx="12" fill="none" stroke="#4CAF50" stroke-width="2" stroke-dasharray="4"/>
                        
                        <!-- Visual element -->
                        <rect x="25" y="50" width="50" height="50" rx="8" fill="#2196F3"/>
                        <text x="50" y="80" text-anchor="middle" font-size="24" fill="white">√ó</text>
                        
                        <!-- Label -->
                        <text x="50" y="145" text-anchor="middle" font-size="10" fill="#666">Touch area = visual + 20px</text>
                        <text x="50" y="160" text-anchor="middle" font-size="10" fill="#4CAF50">90√ó90px (easy to tap!)</text>
                        
                        <!-- Hit indicator -->
                        <circle cx="10" cy="75" r="12" fill="#c8e6c9" stroke="#4CAF50" stroke-width="2"/>
                        <text x="10" y="79" text-anchor="middle" font-size="10" fill="#4CAF50">hit!</text>
                    </g>
                    
                    <!-- Legend -->
                    <g transform="translate(280, 200)">
                        <rect x="0" y="0" width="12" height="12" fill="#2196F3" rx="2"/>
                        <text x="18" y="10" font-size="10" fill="#666">Visible element</text>
                        <rect x="90" y="0" width="12" height="12" fill="none" stroke="#4CAF50" stroke-width="2" stroke-dasharray="3" rx="2"/>
                        <text x="108" y="10" font-size="10" fill="#666">Touch area</text>
                    </g>
                </svg>
                <p class="caption"><em>hitSlop makes small elements easier to tap without changing their visual size</em></p>

                <h3>Using hitSlop</h3>

                <pre><code class="language-tsx">import { Pressable, Text, StyleSheet } from 'react-native';

// Small close button with extended touch area
function CloseButton({ onClose }: { onClose: () => void }) {
  return (
    &lt;Pressable
      onPress={onClose}
      hitSlop={20}  // 20px on all sides
      style={styles.closeButton}
    &gt;
      &lt;Text style={styles.closeIcon}&gt;√ó&lt;/Text&gt;
    &lt;/Pressable&gt;
  );
}

const styles = StyleSheet.create({
  closeButton: {
    width: 24,
    height: 24,
    borderRadius: 12,
    backgroundColor: '#f0f0f0',
    alignItems: 'center',
    justifyContent: 'center',
  },
  closeIcon: {
    fontSize: 18,
    color: '#666',
    fontWeight: 'bold',
  },
});</code></pre>

                <h3>hitSlop Options</h3>

                <pre><code class="language-tsx">// Shorthand: same value all sides
&lt;Pressable hitSlop={20}&gt;

// Object: different values per side
&lt;Pressable hitSlop={{
  top: 10,
  right: 20,
  bottom: 10,
  left: 20,
}}&gt;

// Mixed: extend only specific sides
&lt;Pressable hitSlop={{
  top: 15,
  bottom: 15,
  // left and right default to 0
}}&gt;</code></pre>

                <h3>pressRetentionOffset</h3>

                <p>Another related prop is <code>pressRetentionOffset</code>. This determines how far the finger can move outside the element before the press is cancelled:</p>

                <pre><code class="language-tsx">// User can slide finger 30px outside before cancellation
&lt;Pressable
  onPress={handlePress}
  pressRetentionOffset={{ top: 30, left: 30, right: 30, bottom: 30 }}
&gt;
  &lt;Text&gt;Forgiving Button&lt;/Text&gt;
&lt;/Pressable&gt;

// Useful for buttons where users might "jitter" their touch
// Default is {top: 20, left: 20, right: 20, bottom: 30}</code></pre>

                <!-- Mermaid diagram for hitSlop vs pressRetentionOffset -->
                <pre class="mermaid">
flowchart LR
    subgraph hitSlop["hitSlop"]
        A[Extends where touch<br/>can START]
    end
    
    subgraph pressRetention["pressRetentionOffset"]
        B[Extends where touch<br/>can MOVE TO<br/>without cancelling]
    end
    
    A --> |"Press starts outside<br/>visible bounds"| C[Touch registers]
    B --> |"Finger slides outside<br/>visible bounds"| D[Press still active]
    
    style hitSlop fill:#e3f2fd,stroke:#1976d2
    style pressRetention fill:#fff3e0,stroke:#ff9800
                </pre>
                <p class="caption"><em>hitSlop affects where presses can start; pressRetentionOffset affects where they can move</em></p>

                <h3>When to Use hitSlop</h3>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                        <h4>‚úÖ Good Use Cases</h4>
                        <ul>
                            <li>Close/dismiss buttons (√ó)</li>
                            <li>Icon-only buttons</li>
                            <li>Navigation arrows</li>
                            <li>Small action icons</li>
                            <li>Checkbox/radio buttons</li>
                        </ul>
                    </div>
                    <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                        <h4>‚ö†Ô∏è Watch Out</h4>
                        <ul>
                            <li>Don't overlap adjacent touch areas</li>
                            <li>Test on actual devices</li>
                            <li>Consider left-handed users</li>
                            <li>Larger visual targets are still better</li>
                        </ul>
                    </div>
                </div>

                <h3>Practical Example: Icon Buttons</h3>

                <pre><code class="language-tsx">import { Pressable, View, Text, StyleSheet } from 'react-native';

function IconButton({ 
  icon, 
  label, 
  onPress 
}: { 
  icon: string; 
  label: string; 
  onPress: () => void;
}) {
  return (
    &lt;Pressable
      onPress={onPress}
      hitSlop={15}
      style={({ pressed }) => [
        styles.iconButton,
        pressed && styles.iconButtonPressed
      ]}
      accessibilityLabel={label}
      accessibilityRole="button"
    &gt;
      &lt;Text style={styles.icon}&gt;{icon}&lt;/Text&gt;
    &lt;/Pressable&gt;
  );
}

function ActionBar() {
  return (
    &lt;View style={styles.actionBar}&gt;
      &lt;IconButton icon="‚ù§Ô∏è" label="Like" onPress={() => {}} /&gt;
      &lt;IconButton icon="üí¨" label="Comment" onPress={() => {}} /&gt;
      &lt;IconButton icon="‚ÜóÔ∏è" label="Share" onPress={() => {}} /&gt;
      &lt;IconButton icon="üîñ" label="Save" onPress={() => {}} /&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  actionBar: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    paddingVertical: 12,
  },
  iconButton: {
    padding: 8,
  },
  iconButtonPressed: {
    opacity: 0.6,
    transform: [{ scale: 0.95 }],
  },
  icon: {
    fontSize: 24,
  },
});</code></pre>

            </section>

            <!-- Section 5: Pressable vs Legacy Touchables -->
            <section id="vs-legacy" class="lesson-section">
                <h2>Pressable vs Legacy Touchables</h2>

                <p>Before <code>Pressable</code>, React Native had several touchable components. You'll still see these in older code and tutorials. Understanding them helps you migrate to Pressable.</p>

                <h3>The Legacy Family</h3>

                <table>
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Feedback</th>
                            <th>Platform</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>TouchableOpacity</code></td>
                            <td>Fades opacity on press</td>
                            <td>Both</td>
                        </tr>
                        <tr>
                            <td><code>TouchableHighlight</code></td>
                            <td>Darkens background (underlay)</td>
                            <td>Both</td>
                        </tr>
                        <tr>
                            <td><code>TouchableWithoutFeedback</code></td>
                            <td>No visual feedback</td>
                            <td>Both</td>
                        </tr>
                        <tr>
                            <td><code>TouchableNativeFeedback</code></td>
                            <td>Android ripple effect</td>
                            <td>Android only</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Why Pressable is Better</h3>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div class="card">
                        <h4>üîÑ Unified API</h4>
                        <p>One component instead of four. No need to choose between opacity, highlight, or native feedback.</p>
                    </div>
                    <div class="card">
                        <h4>üé® Full Control</h4>
                        <p>Style function gives you complete control over visual feedback. Create any effect you want.</p>
                    </div>
                    <div class="card">
                        <h4>üì± Cross-Platform</h4>
                        <p>Works identically on iOS and Android. Use <code>android_ripple</code> for native Android feedback when desired.</p>
                    </div>
                    <div class="card">
                        <h4>‚ö° Modern API</h4>
                        <p>Better TypeScript support, cleaner props, and actively maintained by React Native team.</p>
                    </div>
                </div>

                <h3>Migration Examples</h3>

                <pre><code class="language-tsx">// ‚ùå Old: TouchableOpacity
import { TouchableOpacity, Text } from 'react-native';

&lt;TouchableOpacity 
  onPress={handlePress}
  activeOpacity={0.7}
&gt;
  &lt;Text&gt;Press Me&lt;/Text&gt;
&lt;/TouchableOpacity&gt;

// ‚úÖ New: Pressable with opacity
import { Pressable, Text } from 'react-native';

&lt;Pressable 
  onPress={handlePress}
  style={({ pressed }) => ({ opacity: pressed ? 0.7 : 1 })}
&gt;
  &lt;Text&gt;Press Me&lt;/Text&gt;
&lt;/Pressable&gt;</code></pre>

                <pre><code class="language-tsx">// ‚ùå Old: TouchableHighlight
import { TouchableHighlight, Text, View } from 'react-native';

&lt;TouchableHighlight
  onPress={handlePress}
  underlayColor="#ddd"
&gt;
  &lt;View style={styles.button}&gt;
    &lt;Text&gt;Press Me&lt;/Text&gt;
  &lt;/View&gt;
&lt;/TouchableHighlight&gt;

// ‚úÖ New: Pressable with background change
import { Pressable, Text } from 'react-native';

&lt;Pressable
  onPress={handlePress}
  style={({ pressed }) => [
    styles.button,
    { backgroundColor: pressed ? '#ddd' : '#fff' }
  ]}
&gt;
  &lt;Text&gt;Press Me&lt;/Text&gt;
&lt;/Pressable&gt;</code></pre>

                <h3>Android Ripple Effect</h3>

                <p>For the native Android ripple effect, Pressable provides <code>android_ripple</code>:</p>

                <pre><code class="language-tsx">import { Pressable, Text, StyleSheet, Platform } from 'react-native';

function RippleButton() {
  return (
    &lt;Pressable
      onPress={() => console.log('Pressed')}
      android_ripple={{
        color: 'rgba(0, 0, 0, 0.2)',  // Ripple color
        borderless: false,            // Contained within bounds
        radius: undefined,            // Auto-calculate from layout
      }}
      style={({ pressed }) => [
        styles.button,
        // Fallback for iOS (no ripple)
        Platform.OS === 'ios' && pressed && styles.iosPressed
      ]}
    &gt;
      &lt;Text style={styles.buttonText}&gt;Native Ripple on Android&lt;/Text&gt;
    &lt;/Pressable&gt;
  );
}

const styles = StyleSheet.create({
  button: {
    backgroundColor: '#2196F3',
    paddingVertical: 14,
    paddingHorizontal: 24,
    borderRadius: 8,
    alignItems: 'center',
  },
  iosPressed: {
    opacity: 0.8,
  },
  buttonText: {
    color: 'white',
    fontSize: 16,
    fontWeight: 'bold',
  },
});</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° android_ripple Options</h4>
                    <ul>
                        <li><strong>color:</strong> Ripple color (use rgba for transparency)</li>
                        <li><strong>borderless:</strong> If true, ripple extends beyond component bounds</li>
                        <li><strong>radius:</strong> Custom ripple radius (default: auto from layout)</li>
                        <li><strong>foreground:</strong> If true, ripple renders above children (API 23+)</li>
                    </ul>
                </div>

                <h3>Cross-Platform Button Component</h3>

                <pre><code class="language-tsx">import { Pressable, Text, StyleSheet, Platform } from 'react-native';

interface CrossPlatformButtonProps {
  title: string;
  onPress: () => void;
}

function CrossPlatformButton({ title, onPress }: CrossPlatformButtonProps) {
  return (
    &lt;Pressable
      onPress={onPress}
      android_ripple={{
        color: 'rgba(255, 255, 255, 0.3)',
      }}
      style={({ pressed }) => [
        styles.button,
        // Only apply press style on iOS (Android has ripple)
        Platform.OS === 'ios' && pressed && styles.buttonPressed,
      ]}
    &gt;
      &lt;Text style={styles.buttonText}&gt;{title}&lt;/Text&gt;
    &lt;/Pressable&gt;
  );
}

const styles = StyleSheet.create({
  button: {
    backgroundColor: '#6200ee',
    paddingVertical: 14,
    paddingHorizontal: 24,
    borderRadius: 8,
    alignItems: 'center',
    // Android needs overflow hidden for ripple containment
    overflow: 'hidden',
  },
  buttonPressed: {
    backgroundColor: '#3700b3',
  },
  buttonText: {
    color: 'white',
    fontSize: 16,
    fontWeight: '600',
  },
});</code></pre>

                <!-- Migration decision flowchart -->
                <pre class="mermaid">
flowchart TD
    A[Using legacy touchable?] --> B{Which one?}
    
    B -->|TouchableOpacity| C[Use Pressable with<br/>opacity style function]
    B -->|TouchableHighlight| D[Use Pressable with<br/>backgroundColor change]
    B -->|TouchableNativeFeedback| E[Use Pressable with<br/>android_ripple]
    B -->|TouchableWithoutFeedback| F[Use Pressable with<br/>no visual feedback]
    
    C --> G[‚úÖ Modern & flexible]
    D --> G
    E --> G
    F --> G
    
    style G fill:#e8f5e9,stroke:#4caf50
                </pre>
                <p class="caption"><em>Migration path from legacy touchable components to Pressable</em></p>

            </section>
            <!-- Section 6: Hands-On Exercises -->
            <section id="exercises" class="lesson-section">
                <h2>Hands-On Exercises</h2>

                <p>Time to put Pressable into practice! These exercises progress from basic to advanced.</p>

                <h3>Exercise 1: Basic Press Feedback</h3>

                <div class="card">
                    <p><strong>Goal:</strong> Create a button with visual press feedback.</p>
                    
                    <p><strong>Requirements:</strong></p>
                    <ul>
                        <li>Button that changes background color when pressed</li>
                        <li>Slight scale reduction on press (0.97)</li>
                        <li>Text says "Press Me" normally, "Pressing..." when pressed</li>
                    </ul>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use both the style function and children function patterns. Remember to use the <code>pressed</code> parameter from both.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-tsx">import { Pressable, Text, StyleSheet, View } from 'react-native';

export default function FeedbackButton() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Pressable
        onPress={() => console.log('Button pressed!')}
        style={({ pressed }) => [
          styles.button,
          {
            backgroundColor: pressed ? '#1565C0' : '#2196F3',
            transform: [{ scale: pressed ? 0.97 : 1 }],
          }
        ]}
      &gt;
        {({ pressed }) => (
          &lt;Text style={styles.buttonText}&gt;
            {pressed ? 'Pressing...' : 'Press Me'}
          &lt;/Text&gt;
        )}
      &lt;/Pressable&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    padding: 20,
  },
  button: {
    paddingVertical: 16,
    paddingHorizontal: 32,
    borderRadius: 12,
    minWidth: 160,
    alignItems: 'center',
  },
  buttonText: {
    color: 'white',
    fontSize: 18,
    fontWeight: 'bold',
  },
});</code></pre>
                    </details>
                </div>

                <h3>Exercise 2: Press State Logger</h3>

                <div class="card">
                    <p><strong>Goal:</strong> Create a component that logs all press states.</p>
                    
                    <p><strong>Requirements:</strong></p>
                    <ul>
                        <li>Pressable area with all four callbacks: onPressIn, onPressOut, onPress, onLongPress</li>
                        <li>Display the last 5 events in a log area below</li>
                        <li>Include timestamp with each event</li>
                        <li>Different emoji for each event type</li>
                    </ul>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use useState to manage the log array. Use <code>slice(-5)</code> to keep only the last 5 entries.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-tsx">import { useState } from 'react';
import { Pressable, Text, View, StyleSheet, ScrollView } from 'react-native';

type LogEntry = {
  id: number;
  time: string;
  event: string;
  emoji: string;
};

export default function PressLogger() {
  const [log, setLog] = useState&lt;LogEntry[]&gt;([]);
  const [nextId, setNextId] = useState(0);

  const addLog = (event: string, emoji: string) => {
    const time = new Date().toLocaleTimeString();
    setLog(prev => [...prev.slice(-4), { id: nextId, time, event, emoji }]);
    setNextId(prev => prev + 1);
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;Pressable
        onPressIn={() => addLog('onPressIn', 'üëá')}
        onPressOut={() => addLog('onPressOut', 'üëÜ')}
        onPress={() => addLog('onPress', '‚úÖ')}
        onLongPress={() => addLog('onLongPress', '‚è±Ô∏è')}
        delayLongPress={500}
        style={({ pressed }) => [
          styles.pressArea,
          pressed && styles.pressAreaActive
        ]}
      &gt;
        {({ pressed }) => (
          &lt;Text style={styles.pressText}&gt;
            {pressed ? 'üîµ Pressing...' : '‚ö™ Press or Hold Me'}
          &lt;/Text&gt;
        )}
      &lt;/Pressable&gt;

      &lt;View style={styles.logContainer}&gt;
        &lt;Text style={styles.logTitle}&gt;Event Log:&lt;/Text&gt;
        &lt;ScrollView style={styles.logScroll}&gt;
          {log.length === 0 ? (
            &lt;Text style={styles.emptyLog}&gt;No events yet...&lt;/Text&gt;
          ) : (
            log.map(entry => (
              &lt;Text key={entry.id} style={styles.logEntry}&gt;
                {entry.emoji} {entry.time} ‚Äî {entry.event}
              &lt;/Text&gt;
            ))
          )}
        &lt;/ScrollView&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
  },
  pressArea: {
    backgroundColor: '#e3f2fd',
    padding: 40,
    borderRadius: 16,
    alignItems: 'center',
    borderWidth: 3,
    borderColor: '#2196F3',
  },
  pressAreaActive: {
    backgroundColor: '#bbdefb',
    borderColor: '#1565C0',
  },
  pressText: {
    fontSize: 18,
    fontWeight: '600',
    color: '#1565C0',
  },
  logContainer: {
    marginTop: 24,
    flex: 1,
    backgroundColor: '#f5f5f5',
    borderRadius: 12,
    padding: 16,
  },
  logTitle: {
    fontSize: 16,
    fontWeight: 'bold',
    marginBottom: 12,
    color: '#333',
  },
  logScroll: {
    flex: 1,
  },
  logEntry: {
    fontFamily: 'monospace',
    fontSize: 14,
    paddingVertical: 6,
    borderBottomWidth: 1,
    borderBottomColor: '#e0e0e0',
  },
  emptyLog: {
    color: '#999',
    fontStyle: 'italic',
  },
});</code></pre>
                    </details>
                </div>

                <h3>Exercise 3: Icon Button with hitSlop</h3>

                <div class="card">
                    <p><strong>Goal:</strong> Create small icon buttons with proper touch targets.</p>
                    
                    <p><strong>Requirements:</strong></p>
                    <ul>
                        <li>Create an action bar with 4 small icon buttons (emoji icons work fine)</li>
                        <li>Visual size should be small (32√ó32)</li>
                        <li>Touch target should be at least 44√ó44 (use hitSlop)</li>
                        <li>Add press feedback (opacity or scale)</li>
                        <li>Add accessibility labels</li>
                    </ul>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Calculate hitSlop: if visual is 32px and target should be 44px, you need (44-32)/2 = 6px on each side. Add a bit more for comfort.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-tsx">import { Pressable, View, Text, StyleSheet } from 'react-native';

interface ActionButtonProps {
  icon: string;
  label: string;
  onPress: () => void;
}

function ActionButton({ icon, label, onPress }: ActionButtonProps) {
  return (
    &lt;Pressable
      onPress={onPress}
      hitSlop={10}  // Visual is 32px, this makes touch area ~52px
      accessibilityLabel={label}
      accessibilityRole="button"
      style={({ pressed }) => [
        styles.iconButton,
        pressed && styles.iconButtonPressed
      ]}
    &gt;
      &lt;Text style={styles.icon}&gt;{icon}&lt;/Text&gt;
    &lt;/Pressable&gt;
  );
}

export default function ActionBar() {
  const handleAction = (action: string) => {
    console.log(`${action} pressed`);
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.actionBar}&gt;
        &lt;ActionButton 
          icon="‚ù§Ô∏è" 
          label="Like" 
          onPress={() => handleAction('Like')} 
        /&gt;
        &lt;ActionButton 
          icon="üí¨" 
          label="Comment" 
          onPress={() => handleAction('Comment')} 
        /&gt;
        &lt;ActionButton 
          icon="‚ÜóÔ∏è" 
          label="Share" 
          onPress={() => handleAction('Share')} 
        /&gt;
        &lt;ActionButton 
          icon="üîñ" 
          label="Save" 
          onPress={() => handleAction('Save')} 
        /&gt;
      &lt;/View&gt;
      
      &lt;Text style={styles.hint}&gt;
        Buttons are 32√ó32px but touchable area is larger!
      &lt;/Text&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    padding: 20,
  },
  actionBar: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    backgroundColor: 'white',
    paddingVertical: 16,
    borderRadius: 12,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 8,
    elevation: 3,
  },
  iconButton: {
    width: 32,
    height: 32,
    alignItems: 'center',
    justifyContent: 'center',
  },
  iconButtonPressed: {
    opacity: 0.5,
    transform: [{ scale: 0.9 }],
  },
  icon: {
    fontSize: 24,
  },
  hint: {
    marginTop: 16,
    textAlign: 'center',
    color: '#666',
    fontSize: 12,
  },
});</code></pre>
                    </details>
                </div>

                <h3>Exercise 4: Selectable Card List</h3>

                <div class="card">
                    <p><strong>Goal:</strong> Create a list of selectable cards with tap and long-press actions.</p>
                    
                    <p><strong>Requirements:</strong></p>
                    <ul>
                        <li>List of cards showing item name and description</li>
                        <li>Tap to select/deselect (visual change when selected)</li>
                        <li>Long press to show an alert with "Delete?" confirmation</li>
                        <li>Selected cards have different background and border</li>
                    </ul>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use a Set or array to track selected IDs. Use the <code>useRef</code> trick to prevent onPress after onLongPress if needed.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-tsx">import { useState, useRef } from 'react';
import { Pressable, View, Text, StyleSheet, Alert, ScrollView } from 'react-native';

interface Item {
  id: string;
  name: string;
  description: string;
}

const ITEMS: Item[] = [
  { id: '1', name: 'Project Alpha', description: 'Mobile app development' },
  { id: '2', name: 'Project Beta', description: 'Backend API design' },
  { id: '3', name: 'Project Gamma', description: 'UI/UX improvements' },
  { id: '4', name: 'Project Delta', description: 'Performance optimization' },
];

export default function SelectableCardList() {
  const [selectedIds, setSelectedIds] = useState&lt;Set&lt;string&gt;&gt;(new Set());
  const longPressedRef = useRef(false);

  const toggleSelection = (id: string) => {
    if (longPressedRef.current) {
      longPressedRef.current = false;
      return;
    }
    
    setSelectedIds(prev => {
      const next = new Set(prev);
      if (next.has(id)) {
        next.delete(id);
      } else {
        next.add(id);
      }
      return next;
    });
  };

  const handleLongPress = (item: Item) => {
    longPressedRef.current = true;
    Alert.alert(
      'Delete Item?',
      `Are you sure you want to delete "${item.name}"?`,
      [
        { text: 'Cancel', style: 'cancel' },
        { text: 'Delete', style: 'destructive', onPress: () => {
          console.log(`Deleting ${item.id}`);
        }},
      ]
    );
  };

  return (
    &lt;ScrollView style={styles.container}&gt;
      &lt;Text style={styles.title}&gt;Tap to select, hold to delete&lt;/Text&gt;
      
      {ITEMS.map(item => {
        const isSelected = selectedIds.has(item.id);
        
        return (
          &lt;Pressable
            key={item.id}
            onPressIn={() => { longPressedRef.current = false; }}
            onPress={() => toggleSelection(item.id)}
            onLongPress={() => handleLongPress(item)}
            delayLongPress={500}
            style={({ pressed }) => [
              styles.card,
              isSelected && styles.cardSelected,
              pressed && styles.cardPressed,
            ]}
          &gt;
            &lt;View style={styles.cardContent}&gt;
              &lt;View style={styles.cardHeader}&gt;
                &lt;Text style={[
                  styles.cardName,
                  isSelected && styles.cardNameSelected
                ]}&gt;
                  {item.name}
                &lt;/Text&gt;
                {isSelected && (
                  &lt;Text style={styles.checkmark}&gt;‚úì&lt;/Text&gt;
                )}
              &lt;/View&gt;
              &lt;Text style={styles.cardDescription}&gt;{item.description}&lt;/Text&gt;
            &lt;/View&gt;
          &lt;/Pressable&gt;
        );
      })}
      
      &lt;Text style={styles.selectedCount}&gt;
        {selectedIds.size} item{selectedIds.size !== 1 ? 's' : ''} selected
      &lt;/Text&gt;
    &lt;/ScrollView&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
  title: {
    fontSize: 14,
    color: '#666',
    marginBottom: 16,
    textAlign: 'center',
  },
  card: {
    backgroundColor: 'white',
    borderRadius: 12,
    marginBottom: 12,
    borderWidth: 2,
    borderColor: '#e0e0e0',
    overflow: 'hidden',
  },
  cardSelected: {
    borderColor: '#2196F3',
    backgroundColor: '#e3f2fd',
  },
  cardPressed: {
    opacity: 0.9,
    transform: [{ scale: 0.99 }],
  },
  cardContent: {
    padding: 16,
  },
  cardHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 4,
  },
  cardName: {
    fontSize: 18,
    fontWeight: '600',
    color: '#333',
  },
  cardNameSelected: {
    color: '#1565C0',
  },
  checkmark: {
    fontSize: 20,
    color: '#2196F3',
    fontWeight: 'bold',
  },
  cardDescription: {
    fontSize: 14,
    color: '#666',
  },
  selectedCount: {
    textAlign: 'center',
    marginTop: 8,
    color: '#666',
    fontSize: 14,
  },
});</code></pre>
                    </details>
                </div>

                <h3>Challenge: Custom Button Component Library</h3>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4 style="color: white;">üèÜ Bonus Challenge</h4>
                    <p style="color: white;"><strong>Goal:</strong> Create a reusable Button component that can be used throughout an app.</p>
                    
                    <p style="color: white;"><strong>Features:</strong></p>
                    <ul style="color: white;">
                        <li>Multiple variants: primary, secondary, outline, danger</li>
                        <li>Multiple sizes: small, medium, large</li>
                        <li>Loading state with ActivityIndicator</li>
                        <li>Disabled state</li>
                        <li>Optional left or right icon</li>
                        <li>Cross-platform feedback (ripple on Android, opacity on iOS)</li>
                    </ul>
                    
                    <details>
                        <summary style="color: white; cursor: pointer;">‚úÖ Solution</summary>
                        <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <pre><code class="language-tsx">import { 
  Pressable, 
  Text, 
  StyleSheet, 
  ActivityIndicator, 
  View,
  Platform,
  ViewStyle,
  TextStyle,
} from 'react-native';

type ButtonVariant = 'primary' | 'secondary' | 'outline' | 'danger';
type ButtonSize = 'small' | 'medium' | 'large';

interface ButtonProps {
  title: string;
  onPress: () => void;
  variant?: ButtonVariant;
  size?: ButtonSize;
  loading?: boolean;
  disabled?: boolean;
  leftIcon?: string;
  rightIcon?: string;
}

const VARIANT_COLORS = {
  primary: { bg: '#2196F3', bgPressed: '#1976D2', text: 'white', border: 'transparent' },
  secondary: { bg: '#757575', bgPressed: '#616161', text: 'white', border: 'transparent' },
  outline: { bg: 'transparent', bgPressed: '#f5f5f5', text: '#2196F3', border: '#2196F3' },
  danger: { bg: '#f44336', bgPressed: '#d32f2f', text: 'white', border: 'transparent' },
};

const SIZE_STYLES = {
  small: { paddingVertical: 8, paddingHorizontal: 16, fontSize: 14 },
  medium: { paddingVertical: 12, paddingHorizontal: 24, fontSize: 16 },
  large: { paddingVertical: 16, paddingHorizontal: 32, fontSize: 18 },
};

export default function Button({
  title,
  onPress,
  variant = 'primary',
  size = 'medium',
  loading = false,
  disabled = false,
  leftIcon,
  rightIcon,
}: ButtonProps) {
  const colors = VARIANT_COLORS[variant];
  const sizeStyle = SIZE_STYLES[size];
  const isDisabled = disabled || loading;

  return (
    &lt;Pressable
      onPress={onPress}
      disabled={isDisabled}
      android_ripple={{
        color: 'rgba(255, 255, 255, 0.3)',
      }}
      style={({ pressed }) => [
        styles.button,
        {
          backgroundColor: isDisabled 
            ? '#ccc' 
            : pressed 
              ? colors.bgPressed 
              : colors.bg,
          borderColor: isDisabled ? '#ccc' : colors.border,
          paddingVertical: sizeStyle.paddingVertical,
          paddingHorizontal: sizeStyle.paddingHorizontal,
          opacity: isDisabled && Platform.OS === 'ios' ? 0.6 : 1,
          transform: [{ 
            scale: pressed && !isDisabled && Platform.OS === 'ios' ? 0.98 : 1 
          }],
        },
      ]}
    &gt;
      &lt;View style={styles.content}&gt;
        {loading ? (
          &lt;ActivityIndicator 
            color={colors.text} 
            size={size === 'small' ? 'small' : 'small'}
          /&gt;
        ) : (
          &lt;&gt;
            {leftIcon && (
              &lt;Text style={[styles.icon, { fontSize: sizeStyle.fontSize }]}&gt;
                {leftIcon}
              &lt;/Text&gt;
            )}
            &lt;Text style={[
              styles.text,
              { 
                color: isDisabled ? '#999' : colors.text,
                fontSize: sizeStyle.fontSize,
              }
            ]}&gt;
              {title}
            &lt;/Text&gt;
            {rightIcon && (
              &lt;Text style={[styles.icon, { fontSize: sizeStyle.fontSize }]}&gt;
                {rightIcon}
              &lt;/Text&gt;
            )}
          &lt;/&gt;
        )}
      &lt;/View&gt;
    &lt;/Pressable&gt;
  );
}

const styles = StyleSheet.create({
  button: {
    borderRadius: 8,
    borderWidth: 2,
    alignItems: 'center',
    justifyContent: 'center',
    overflow: 'hidden',
  },
  content: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center',
  },
  text: {
    fontWeight: '600',
  },
  icon: {
    marginHorizontal: 6,
  },
});

// Usage examples:
// &lt;Button title="Save" onPress={handleSave} /&gt;
// &lt;Button title="Cancel" onPress={handleCancel} variant="secondary" /&gt;
// &lt;Button title="Delete" onPress={handleDelete} variant="danger" /&gt;
// &lt;Button title="Sign Up" onPress={handleSignUp} variant="outline" size="large" /&gt;
// &lt;Button title="Loading..." onPress={() =&gt; {}} loading /&gt;
// &lt;Button title="Add Item" onPress={handleAdd} leftIcon="+" /&gt;
// &lt;Button title="Next" onPress={handleNext} rightIcon="‚Üí" /&gt;</code></pre>
                        </div>
                    </details>
                </div>

            </section>

            <!-- Section 7: Summary -->
            <section id="summary" class="lesson-section">
                <h2>Summary</h2>
                
                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h3>üéâ Key Takeaways</h3>
                    <ul>
                        <li><strong>Pressable is the modern standard</strong> for handling touch in React Native</li>
                        <li><strong>Four press states:</strong> onPressIn, onPressOut, onPress, onLongPress</li>
                        <li><strong>Style function</strong> receives <code>{ pressed }</code> for dynamic visual feedback</li>
                        <li><strong>Children function</strong> also receives <code>{ pressed }</code> for dynamic content</li>
                        <li><strong>hitSlop</strong> extends touch area beyond visible bounds for small elements</li>
                        <li><strong>pressRetentionOffset</strong> controls how far finger can move before cancellation</li>
                        <li><strong>android_ripple</strong> provides native Android feedback</li>
                        <li><strong>Replaces</strong> TouchableOpacity, TouchableHighlight, TouchableWithoutFeedback, TouchableNativeFeedback</li>
                        <li><strong>Always add accessibility labels</strong> for screen readers</li>
                    </ul>
                </div>
                
                <h3>Quick Reference</h3>

                <pre><code class="language-tsx">// Basic Pressable
&lt;Pressable onPress={handlePress}&gt;
  &lt;Text&gt;Press Me&lt;/Text&gt;
&lt;/Pressable&gt;

// All press callbacks
&lt;Pressable
  onPressIn={() => {}}   // Finger down
  onPressOut={() => {}}  // Finger up
  onPress={() => {}}     // Complete press
  onLongPress={() => {}} // Hold 500ms+
  delayLongPress={500}   // Customize long press delay
&gt;

// Style function for visual feedback
&lt;Pressable
  style={({ pressed }) => [
    styles.button,
    pressed && styles.pressed
  ]}
&gt;

// Children function for dynamic content
&lt;Pressable&gt;
  {({ pressed }) => (
    &lt;Text&gt;{pressed ? 'Pressing...' : 'Press Me'}&lt;/Text&gt;
  )}
&lt;/Pressable&gt;

// Extended touch area
&lt;Pressable hitSlop={20}&gt;
&lt;Pressable hitSlop={{ top: 10, right: 20, bottom: 10, left: 20 }}&gt;

// Android ripple effect
&lt;Pressable android_ripple={{ color: 'rgba(0,0,0,0.2)' }}&gt;

// Accessibility
&lt;Pressable
  accessibilityLabel="Close button"
  accessibilityRole="button"
  accessibilityHint="Closes the dialog"
&gt;</code></pre>

                <h3>Common Patterns Cheat Sheet</h3>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div class="card">
                        <h4>Opacity Feedback</h4>
                        <pre><code class="language-tsx">style={({ pressed }) => ({
  opacity: pressed ? 0.7 : 1
})}</code></pre>
                    </div>
                    <div class="card">
                        <h4>Scale Feedback</h4>
                        <pre><code class="language-tsx">style={({ pressed }) => ({
  transform: [{ 
    scale: pressed ? 0.97 : 1 
  }]
})}</code></pre>
                    </div>
                    <div class="card">
                        <h4>Color Change</h4>
                        <pre><code class="language-tsx">style={({ pressed }) => ({
  backgroundColor: pressed 
    ? '#1565C0' 
    : '#2196F3'
})}</code></pre>
                    </div>
                    <div class="card">
                        <h4>Combined</h4>
                        <pre><code class="language-tsx">style={({ pressed }) => [
  styles.button,
  pressed && styles.pressed
]}</code></pre>
                    </div>
                </div>

                <h3>üöÄ What's Next?</h3>
                <p>Now that you can make anything touchable, we'll learn about <strong>TextInput</strong> ‚Äî capturing user input with text fields, handling keyboard types, and managing focus in React Native.</p>

                <!-- Encouragement Card -->
                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; padding: 2rem;">
                    <h3 style="color: white;">üëÜ Touch Mastered!</h3>
                    <p style="color: white;">You now have complete control over touch interactions in your apps. From simple taps to long presses, from visual feedback to extended touch targets ‚Äî your buttons will feel polished and professional!</p>
                </div>
            </section>

            <!-- Lesson Navigation -->
            <nav class="lesson-nav" aria-label="Lesson Navigation">
                <a href="m03_l05_safeareaview_respecting_device_boundaries.html" class="prev-lesson">‚Üê Previous: SafeAreaView ‚Äî Respecting Device Boundaries</a>
                <a href="index.html" class="home-link">üè† Course Home</a>
                <a href="m03_l07_textinput_capturing_user_input.html" class="next-lesson">Next: TextInput ‚Äî Capturing User Input ‚Üí</a>
            </nav>
        </div>
    </main>

    <!-- Footer -->
    <footer style="background: var(--primary-color); color: white; padding: 2rem; text-align: center; margin-top: 4rem;">
        <p>&copy; 2025 React Native & Expo Mastery Course. All rights reserved.</p>
        <p style="margin-top: 0.5rem; opacity: 0.9;">Building the next generation of mobile developers.</p>
    </footer>

    <!-- JavaScript -->
    <script src="js/clipboard.js"></script>
    <script src="js/course-enhancements.js"></script>
</body>
</html>
